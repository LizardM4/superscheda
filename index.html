<!--
  Superscheda
 Copyright (C) 2017-2018  Pietro Saccardi

This program is free software: you can redistribute it and/or modify
 it under the terms of the GNU General Public License as published by
 the Free Software Foundation, either version 3 of the License, or
 (at your option) any later version.

This program is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU General Public License for more details.

You should have received a copy of the GNU General Public License
 along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->
<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="utf-8">
    <title>Superscheda</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- ****** faviconit.com favicons ****** -->
    <link rel="shortcut icon" href="favicon.ico?v=0.0">
    <link rel="icon" sizes="16x16 32x32 64x64" href="favicon.ico?v=0.0">
    <link rel="icon" type="image/png" sizes="196x196" href="favicon/favicon-192.png?v=0.0">
    <link rel="icon" type="image/png" sizes="160x160" href="favicon/favicon-160.png?v=0.0">
    <link rel="icon" type="image/png" sizes="96x96" href="favicon/favicon-96.png?v=0.0">
    <link rel="icon" type="image/png" sizes="64x64" href="favicon/favicon-64.png?v=0.0">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32.png?v=0.0">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16.png?v=0.0">
    <link rel="apple-touch-icon" href="favicon/favicon-57.png?v=0.0">
    <link rel="apple-touch-icon" sizes="114x114" href="favicon/favicon-114.png?v=0.0">
    <link rel="apple-touch-icon" sizes="72x72" href="favicon/favicon-72.png?v=0.0">
    <link rel="apple-touch-icon" sizes="144x144" href="favicon/favicon-144.png?v=0.0">
    <link rel="apple-touch-icon" sizes="60x60" href="favicon/favicon-60.png?v=0.0">
    <link rel="apple-touch-icon" sizes="120x120" href="favicon/favicon-120.png?v=0.0">
    <link rel="apple-touch-icon" sizes="76x76" href="favicon/favicon-76.png?v=0.0">
    <link rel="apple-touch-icon" sizes="152x152" href="favicon/favicon-152.png?v=0.0">
    <link rel="apple-touch-icon" sizes="180x180" href="favicon/favicon-180.png?v=0.0">
    <meta name="msapplication-TileColor" content="#FFFFFF">
    <meta name="msapplication-TileImage" content="favicon/favicon-144.png?v=0.0">
    <meta name="msapplication-config" content="favicon/browserconfig.xml">
    <!-- ****** faviconit.com favicons ****** -->

    <!-- jQuery comes first, because it's needed everywhere else -->
    <script src="static/js/jquery-3.3.1.min.js" integrity="sha384-tsQFqpEReu7ZLhBV2VZlAu7zcOV+rXbYlF2cqB8txI/8aZajjp4Bqd+V6D5IgvKT"></script>

    <!-- Then comes bootstrap, with popper and its own minified files -->
    <link rel="stylesheet" href="static/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB">
    <script src="static/js/bootstrap.bundle.min.js" integrity="sha384-u/bQvRA/1bobcXlcEYpsEdFVK/vJs3+T+nXLsBYJthmdBuavHvAW6UsmqO2Gd/F9"></script>

    <!-- Fontawesome 4 follows -->
    <link href="static/css/fontawesome-all.min.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" rel="stylesheet">

    <!-- Dropbox APIs -->
    <script src="static/js/Dropbox-sdk.min.js" integrity="sha384-ZXMvIgCuw8ctP/B4Oq66OVVvzOov8fp/ujZ1C3eNXXy17UPKWPP3EnU1f/N8b0pf"></script>

    <!-- Hierarchical object manipulator -->
    <script src="js/hier.js?v=%REV"></script>
    <!-- Dropbox browsing plugin -->
    <script src="js/dbxexplorer.js?v=%REV"></script>
    <!-- Interactive, hierarchical arrays on nodes -->
    <!-- <script src="js/ddarray.js?v=%REV" type="module"></script> -->
    <!-- Version control for data: migrate model -->
    <script src="js/versioning.js?v=%REV"></script>

    <!-- Main controller class, this one really comes last -->
    <script src="js/controller.js?v=%REV"></script>

    <!-- Extra custom styles -->
    <link rel="stylesheet" href="css/superscheda.css?v=%REV">

    <!-- <script src="js/ddgraph.js?v=%REV" type="module"></script> -->

    <script>
      // DD = new Controller('h2jyx20rz9lbwiw');
      // $(function() {
      //   DD.setup();

      //   // Event for activating/deactivating the details of the abilities
      //   $('#toggle_abilities_modifier').click(function() {
      //     var obj = $(this);
      //     var t_active = obj.find('.toggle-active');
      //     var t_inactive = obj.find('.toggle-inactive');
      //     var cur_state = t_active.hasClass('d-none');
      //     if (cur_state) {
      //       t_inactive.addClass('d-none');
      //       t_active.removeClass('d-none');
      //       $('.extra-mods').removeClass('d-none');
      //       $('#array_abilita').addClass('always-stripe');
      //     } else {
      //       t_inactive.removeClass('d-none');
      //       t_active.addClass('d-none');
      //       $('.extra-mods').addClass('d-none');
      //       $('#array_abilita').removeClass('always-stripe');
      //     }
      //   });

      //   // Event for loading a new item
      //   $('#load_default').click(function(evt) {
      //     // That's an 'a', so we need to prevent jumping to href="#"
      //     evt.preventDefault();
      //     evt.stopPropagation();
      //     DD.toggleWaiting(true);
      //     DD.loadRemote('etc/default.json', function(res) { DD.toggleWaiting(false, res); });
      //   });

      //   // Toggle the dd-nav-toc class that drives the toc; having multiple TOCs
      //   // causes some not to trigger, so we toggle between one and the other.
      //   $(window).resize(function() {
      //       if ($(window).width() >= 768) {
      //         if (!$('#toc_md').is('.dd-nav-toc')) {
      //           $('#toc_md').addClass('dd-nav-toc');
      //           $('#toc_sm').removeClass('dd-nav-toc');
      //           // You need both these for scrollspy to refresh properly
      //           $('body').scrollspy('refresh');
      //           $(window).scroll();
      //         }
      //       } else {
      //         if (!$('#toc_sm').is('.dd-nav-toc')) {
      //           $('#toc_md').removeClass('dd-nav-toc');
      //           $('#toc_sm').addClass('dd-nav-toc');
      //           // You need both these for scrollspy to refresh properly
      //           $('body').scrollspy('refresh');
      //           $(window).scroll();
      //         }
      //       }
      //   });

      //   // Activate the TOCs
      //   $(window).resize();
      // });
    </script>
    <style>

    </style>
  </head>
  <body data-spy="scroll" data-target=".dd-nav-toc">
    <nav class="navbar sticky-top navbar-light bg-light" id="main_nav">
      <button class="btn btn-outline-secondary d-md-none" type="button" data-toggle="dropdown" aria-expanded="false" aria-label="Toggle toc">
        <i class="fas fa-bars" aria-hidden="true"></i>
      </button>
      <a href="#" class="navbar-brand py-0 mx-0">
        <img src="img/superscheda.svg" alt="Scheda D&amp;D 3.5" style="height: 2.3rem;" class="align-middle">
        <span class="d-none d-md-inline-block">Scheda D&amp;D 3.5</span>
      </a>
      <ul class="nav">
        <li class="nav-item">
          <button class="btn btn-sm mr-1 btn-outline-primary p-2" id="load_default">
            <i class="fas fa-file-alt fa-fw fa-lg" aria-hidden="true"></i>
          </button>
        </li>
        <li class="nav-item">
          <button disabled class="btn btn-sm mr-1 btn-outline-primary p-2" data-toggle="modal" data-target="#load_from">
            <i class="fas fa-folder-open fa-fw fa-lg" aria-hidden="true"></i>
          </button>
        </li>
        <li class="nav-item">
          <button disabled class="btn btn-sm mr-1 btn-outline-primary p-2" data-toggle="modal" data-target="#save_to"><i class="fas fa-save fa-fw fa-lg" aria-hidden="true"></i></button>
        </li>
        <li class="nav-item">
          <button disabled id="btn_logout" class="btn btn-sm mr-1 btn-outline-danger p-2">
            <i class="fas fa-sign-out-alt fa-fw fa-lg" aria-hidden="true"></i>
          </button>
        </li>
      </ul>




      <div class="dropdown-menu d-md-none" id="toc_sm">
        <div class="toc-small-wrapper">
          <a class="dropdown-item" href="#sec_base">Base</a>
          <a class="dropdown-item" href="#sec_caratteristiche">Caratteristiche</a>
          <a class="dropdown-item" href="#sec_tiri_salvezza">Tiri salvezza</a>
          <a class="dropdown-item" href="#sec_comp_ling_vis">Competenze, linguaggi e visione</a>
            <a class="dropdown-item pl-5" href="#sec_comp">Competenze</a>
            <a class="dropdown-item pl-5" href="#sec_ling">Linguaggi</a>
            <a class="dropdown-item pl-5" href="#sec_vis">Visione</a>
            <a class="dropdown-item pl-5" href="#sec_note">Note</a>
          <a class="dropdown-item" href="#sec_stat_attacco">Dado vita, armatura e statistiche attacco</a>
            <a class="dropdown-item pl-5" href="#sec_dado_vita">Dado vita</a>
            <a class="dropdown-item pl-5" href="#sec_armatura">Armatura</a>
            <a class="dropdown-item pl-5" href="#sec_ogg_protettivi">Oggetti protettivi</a>
            <a class="dropdown-item pl-5" href="#sec_bab">Bonus attacco base</a>
            <a class="dropdown-item pl-5" href="#sec_iniziativa">Iniziativa</a>
            <a class="dropdown-item pl-5" href="#sec_punti_ferita">Punti ferita</a>
            <a class="dropdown-item pl-5" href="#sec_res_incant">Res. incantesimi</a>
            <a class="dropdown-item pl-5" href="#sec_res_danno">Res. danno</a>
            <a class="dropdown-item pl-5" href="#sec_lotta">Lotta</a>
            <a class="dropdown-item pl-5" href="#sec_att_opportunita">Opportunità</a>
          <a class="dropdown-item" href="#sec_attacchi">Elenco attacchi</a>
          <div id="toc_attacchi_sm" data-dd-array="container">
            <span data-dd-array="master"><a class="dropdown-item pl-5" href="#">Attacco</a></span>
          </div>
          <a class="dropdown-item" href="#sec_talenti_skills">Talenti, skill tricks, privilegi di classe</a>
            <a class="dropdown-item pl-5" href="#sec_talenti">Talenti</a>
            <a class="dropdown-item pl-5" href="#sec_privilegi">Privilegi di classe</a>
          <a class="dropdown-item" href="#sec_abilita">Abilità</a>
          <a class="dropdown-item" href="#sec_incantesimi">Incantesimi</a>
            <a class="dropdown-item pl-5" href="#sec_elenco_incantesimi">Elenco</a>
          <a class="dropdown-item" href="#sec_spostamento">Equipaggiamento, peso, spostamento</a>
            <a class="dropdown-item pl-5" href="#sec_carico">Carico</a>
            <a class="dropdown-item pl-5" href="#sec_velocita">Velocità</a>
            <a class="dropdown-item pl-5" href="#sec_equip">Equipaggiamento trasportato</a>
            <a class="dropdown-item pl-5" href="#sec_denaro">Denaro e preziosi</a>
        </div>
      </div>


    </nav>




    <div class="modal fade" tabindex="-1" role="dialog" id="save_to" aria-labelledby="save_to_title" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="save_to_title">Salva su <i class="fab fa-dropbox" aria-hidden="true"></i></h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Chiudi">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <form novalidate>
            <div class="modal-body">
              <p class="alert alert-warning d-none d-none-w-dbx" id="no_local_storage_warning">
                Scarica adesso il tuo personaggio per non perdere le modifiche (local storage non è disponibile)!
              </p>
              <p class="d-none-w-dbx">
                Superscheda usa Dropbox per salvare e caricare i contenuti (ad una pagina web è vietato accedere ai contenuti locali del tuo computer).
              </p>
              <div class="dropbox-explorer d-none-wo-dbx">
                <nav aria-label="breadcrumb" class="dropbox-nav" data-path="/">
                  <ol class="breadcrumb p-2 mb-2">
                    <li class="breadcrumb-item active" aria-current="page">
                      <i class="fab fa-dropbox" aria-hidden="true"></i>
                    </li>
                  </ol>
                </nav>
                <div class="dropbox-alert alert alert-danger d-none" role="alert"></div>
                <p class="dropbox-spinner d-none text-center my-5">
                  <i class="fas fa-sync-alt fa-spin fa-3x"></i>
                </p>
                <ul class="dropbox-file-list list-unstyled px-2 mt-1 mb-2 border border-secondary rounded bg-light">
                </ul>
              </div>
              <div class="row d-none-wo-dbx">
                <label class="col-sm-2 col-form-label">File: </label>
                <div class="col-sm-10">
                  <input type="text" class="form-control" placeholder="file.json" required pattern=".+\.json">
                  <div class="invalid-feedback">
                    Il file deve avere estensione JSON.
                  </div>
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <a class="btn btn-outline-secondary mr-auto" href="data:application/json;charset=utf-8,%7B%7D" download="personaggio.json">
                <i class="fas fa-download" aria-hidden="true"></i> Scarica
              </a>
              <a class="btn btn-primary btn-dbx-login d-none-w-dbx" href="#">
                Accedi a <i class="fab fa-dropbox" aria-hidden="true"></i>
              </a>
              <button type="submit" class="btn btn-primary d-none-wo-dbx">Salva</button>
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Chiudi</button>
            </div>
          </form>
        </div>
      </div>
    </div>







    <div class="modal fade" tabindex="-1" role="dialog" id="cookie_explain" aria-labelledby="cookie_explain_title" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="cookie_explain_title"><i class="fas fa-shield-alt" aria-hidden="true"></i> Utilizzo del local storage</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Chiudi">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            Superscheda usa il <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API" target="_blank">local storage</a> (una tecnologia analoga ai cookie) per salvare:
            <ol>
              <li>il tuo access token di Dropbox, per non doverti autenticare ad ogni sessione;</li>
              <li>la versione di Superscheda, per risolvere potenziali incompatibilità tra file salvati tra più versioni;</li>
              <li>una copia della scheda, aggiornata ogni minuto, come salvataggio automatico dei contenuti;</li>
              <li>se hai visualizzato o meno l'avviso sui cookie.</li>
            </ol>
            Nella maggior parte dei browser, disattivare i cookie disattiva anche il local storage.
            Puoi usare Superscheda anche senza local storage ma:
            <ol>
              <li>dovrai autenticarti su Dropbox ogni volta;</li>
              <li>abbandonare la pagina ti farà perdere i dati (questo vale anche durante l'autenticazione su Dropbox: autenticati <em>prima</em> di inserire informazioni);</li>
              <li>non ci sarà salvataggio automatico.</li>
            </ol>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Chiudi</button>
          </div>
        </div>
      </div>
    </div>






    <div class="modal fade" tabindex="-1" role="dialog" id="auth_dbx" aria-labelledby="auth_dbx_title" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="auth_dbx_title"><i class="fab fa-dropbox" aria-hidden="true"></i> Accesso a Dropbox</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Chiudi">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <p>
              Superscheda usa Dropbox per salvare e caricare i contenuti.
              Puoi usare la pagina anche senza accedere a Dropbox, ma non potrai caricare file locali.
            </p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Ignora</button>
            <a class="btn btn-primary btn-dbx-login d-none-w-dbx" href="#">
              Accedi a <i class="fab fa-dropbox" aria-hidden="true"></i>
            </a>
          </div>
        </div>
      </div>
    </div>






    <div class="modal fade" tabindex="-1" role="dialog" id="load_from" aria-labelledby="load_from_title" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="load_from_title">Carica da <i class="fab fa-dropbox" aria-hidden="true"></i></h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Chiudi">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <p class="d-none-w-dbx">
              Superscheda usa Dropbox per salvare e caricare i contenuti (ad una pagina web è vietato accedere ai contenuti locali del tuo computer).
            </p>
            <div class="dropbox-explorer d-none-wo-dbx">
              <nav aria-label="breadcrumb" class="dropbox-nav" data-path="/">
                <ol class="breadcrumb p-2 mb-2">
                  <li class="breadcrumb-item active" aria-current="page">
                    <i class="fab fa-dropbox" aria-hidden="true"></i>
                  </li>
                </ol>
              </nav>
              <div class="dropbox-alert alert alert-danger d-none" role="alert"></div>
              <p class="dropbox-spinner d-none text-center my-5">
                <i class="fas fa-sync-alt fa-spin fa-3x"></i>
              </p>
              <ul class="dropbox-file-list list-unstyled px-2 my-1 border border-secondary rounded bg-light">
              </ul>
            </div>
          </div>
          <div class="modal-footer">
            <a class="btn btn-primary btn-dbx-login d-none-w-dbx" href="#">
              Accedi a <i class="fab fa-dropbox" aria-hidden="true"></i>
            </a>
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Chiudi</button>
          </div>
        </div>
      </div>
    </div>



    <div class="forkme-ribbon">
      <a href="https://gitlab.com/5p4k/superscheda" target="_blank">
        <div class="forkme-ribbon-background"></div>
        <div class="forkme-ribbon-text pb-sm-2 pb-xs-2">
            <span class="d-none d-md-inline-block small">
              Fork me on<br>
              <i class="fab fa-gitlab fa-2x" aria-hidden="true"></i>
            </span>
            <i class="d-md-none fab fa-gitlab fa-lg" aria-hidden="true"></i>
        </div>
      </a>
    </div>


    <div class="modal fade" tabindex="-1" role="dialog" id="waiting" aria-hidden="true" data-backdrop="static" data-keyboard="false">
      <div class="my-0 h-100 d-flex align-items-center justify-content-center">
        <div class="modal-dialog text-light" role="document">
          <i class="fas fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>






    <div class="container-fluid mt-1">
      <div class="row">





        <nav class="col-md-2 col-lg-3 sticky-toc small order-2 d-none d-md-block" id="toc_md">
          <div class="toc-wrapper">
            <ul class="nav nav-toc nav-pills flex-column">
              <li class="nav-item">
                <a class="nav-link text-truncate" href="#sec_base">Base</a>
              </li>
              <li class="nav-item">
                <a class="nav-link text-truncate" href="#sec_caratteristiche">Caratteristiche</a>
              </li>
              <li class="nav-item">
                <a class="nav-link text-truncate" href="#sec_tiri_salvezza">Tiri salvezza</a>
              </li>
              <li class="nav-item">
                <a class="nav-link text-truncate" href="#sec_comp_ling_vis">Competenze, linguaggi e visione</a>
                <ul class="nav nav-toc nav-pills pl-2 flex-column">
                  <li class="nav-item">
                    <a class="nav-link text-truncate" href="#sec_note">Note</a>
                  </li>
                </ul>
              </li>
              <li class="nav-item">
                <a class="nav-link text-truncate" href="#sec_stat_attacco">Dado vita, armatura e statistiche attacco</a>
                <ul class="nav nav-toc nav-pills pl-2 flex-column">
                  <li class="nav-item">
                    <a class="nav-link text-truncate" href="#sec_dado_vita">Dado vita</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link text-truncate" href="#sec_armatura">Armatura</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link text-truncate" href="#sec_ogg_protettivi">Oggetti protettivi</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link text-truncate" href="#sec_bab_iniziativa">Bonus attacco base, Iniziativa</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link text-truncate" href="#sec_pf_rd_ri">PF, RI, RD</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link text-truncate" href="#sec_lotta_opportunita">Lotta, opportunità</a>
                  </li>
                </ul>
              </li>
              <li class="nav-item">
                <a class="nav-link text-truncate" href="#sec_attacchi">Elenco attacchi</a>
                <ul id="toc_attacchi_md" class="nav nav-toc nav-pills pl-2 flex-column" data-dd-array="container">
                  <li class="nav-item" data-dd-array="master">
                    <a class="nav-link text-truncate" href="#">Attacco</a>
                  </li>
                </ul>
              </li>
              <li class="nav-item">
                <a class="nav-link text-truncate" href="#sec_talenti_skills">Talenti, skill tricks, privilegi di classe</a>
              </li>
              <li class="nav-item">
                <a class="nav-link text-truncate" href="#sec_abilita">Abilità</a>
              </li>
              <li class="nav-item">
                <a class="nav-link text-truncate" href="#sec_incantesimi">Incantesimi</a>
                <ul class="nav nav-toc nav-pills pl-2 flex-column">
                  <li class="nav-item">
                    <a class="nav-link text-truncate" href="#sec_elenco_incantesimi">Elenco</a>
                  </li>
                </ul>
              </li>
              <li class="nav-item">
                <a class="nav-link text-truncate" href="#sec_spostamento">Equipaggiamento, peso, spostamento</a>
                <ul class="nav nav-toc nav-pills pl-2 flex-column">
                  <li class="nav-item">
                    <a class="nav-link text-truncate" href="#sec_carico">Carico</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link text-truncate" href="#sec_velocita">Velocità</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link text-truncate" href="#sec_equip">Equipaggiamento trasportato</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link text-truncate" href="#sec_denaro">Denaro e preziosi</a>
                  </li>
                </ul>
              </li>
            </ul>
          </div>
        </nav>








        <main class="col col-md-10 col-lg-9 order-1">
          <div role="tablist">

          <div class="card my-1" role="tab">
            <span class="hidden-anchor" id="sec_base"></span>
            <div class="card-header" role="tab" data-toggle="collapse" data-target="#card_base" aria-expanded="true" aria-controls="card_base">
              <h5 class="mb-0">
                <button type="button" class="close float-left mr-3" aria-label="Toggle">
                  <i class="fas fa-chevron-circle-up" aria-hidden="true"></i>
                </button>
                Base
              </h5>
            </div>
            <div class="collapse show" id="card_base">
              <div class="card-body">
                <div class="form-row">
                  <div class="col-md-3 col-6">
                    <div class="text-truncate">
                      <div class="text-truncate"><label class="col-form-label">Nome del personaggio</label></div>
                    </div>
                    <input type="text" class="form-control" id="dd-page-title" data-dd-id="nome">
                  </div>
                  <div class="col-md-3 col-6">
                    <label class="col-form-label">Razza</label>
                    <input type="text" class="form-control" data-dd-id="razza">
                  </div>
                  <div class="col-md-3 col-6">
                    <label class="col-form-label">Archetipo 1</label>
                    <input type="text" class="form-control" data-dd-id="archetipo[0]">
                  </div>
                  <div class="col-md-3 col-6">
                    <label class="col-form-label">Archetipo 2</label>
                    <input type="text" class="form-control" data-dd-id="archetipo[1]">
                  </div>
                </div>

                <div class="form-row">
                  <div class="col-md-3 col-6">
                    <div class="text-truncate">
                      <label class="col-form-label">Nome del giocatore</label>
                    </div>
                    <input type="text" class="form-control" data-dd-id="giocatore">
                  </div>
                  <div class="col-md-3 col-6">
                    <label class="col-form-label">Classe</label>
                    <input type="text" class="form-control" data-dd-id="classe[0]">
                  </div>
                  <div class="col-md-3 col-6">
                    <label class="col-form-label">Classe/CdP</label>
                    <input type="text" class="form-control" data-dd-id="classe[1]">
                  </div>
                  <div class="col-md-3 col-6">
                    <label class="col-form-label">Classe/CdP</label>
                    <input type="text" class="form-control" data-dd-id="classe[2]">
                  </div>
                </div>

                <div class="form-row" data-dd-id="png">
                  <div class="col-md-3 col-6">
                    <label class="col-form-label">Classe da PNG</label>
                    <input type="text" class="form-control" data-dd-id="classe[0]">
                  </div>
                  <div class="col-md-3 col-6">
                    <label class="col-form-label">Classe/CdP</label>
                    <input type="text" class="form-control" data-dd-id="classe[1]">
                  </div>
                  <div class="col-md-3 col-6">
                    <label class="col-form-label">Classe/CdP</label>
                    <input type="text" class="form-control" data-dd-id="classe[2]">
                  </div>
                  <div class="col-md-3 col-6">
                    <label class="col-form-label">Classe/CdP</label>
                    <input type="text" class="form-control" data-dd-id="classe[3]">
                  </div>
                </div>


                <div class="form-row">
                  <div class="col-md-3 col-6">
                    <div class="form-row">
                      <div class="col">
                        <label class="col-form-label">Taglia</label>
                        <select class="form-control" data-dd-id="taglia">
                          <option value="colossale">Colossale</option>
                          <option value="mastodontica">Mastodontica</option>
                          <option value="enorme">Enorme</option>
                          <option value="grande">Grande</option>
                          <option value="media" selected>Media</option>
                          <option value="piccola">Piccola</option>
                          <option value="minuscola">Minuscola</option>
                        </select>
                      </div>
                      <div class="col">
                        <label class="col-form-label">Altezza</label>
                        <div class="input-group">
                          <input type="text" data-dd-id="altezza" class="text-right form-control">
                          <div class="input-group-append">
                            <span class="input-group-text">m</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-3 col-6">
                    <div class="form-row">
                      <div class="col">
                        <label class="col-form-label">Peso</label>
                        <div class="input-group">
                          <input type="text" class="form-control text-right" data-dd-id="peso">
                          <div class="input-group-append">
                            <span class="input-group-text">kg</span>
                          </div>
                        </div>
                      </div>
                      <div class="col">
                        <label class="col-form-label">Occhi</label>
                        <input type="text" class="form-control" data-dd-id="occhi">
                      </div>
                    </div>
                  </div>
                  <div class="col-md-3 col-6">
                    <div class="form-row">
                      <div class="col">
                        <label class="col-form-label">Capelli</label>
                        <input type="text" class="form-control" data-dd-id="capelli">
                      </div>
                      <div class="col">
                        <label class="col-form-label">Pelle</label>
                        <input type="text" class="form-control" data-dd-id="pelle">
                      </div>
                    </div>
                  </div>
                  <div class="col-md-3 col-6">
                    <div class="form-row">
                      <div class="col">
                        <label class="col-form-label">Età</label>
                        <input type="text" class="form-control" data-dd-id="eta">
                      </div>
                      <div class="col">
                        <label class="col-form-label">Sesso</label>
                        <select class="form-control" data-dd-id="sesso">
                          <option value="m">Maschio</option>
                          <option value="f">Femmina</option>
                          <option value="n" selected>N/A</option>
                        </select>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="form-row">
                  <div class="col-md-6 col-6">
                    <label class="col-form-label">Segni particolari</label>
                    <input type="text" class="form-control" data-dd-id="segni_particolari">
                  </div>
                  <div class="col-md-3 col-3">
                    <label class="col-form-label">Divinità</label>
                    <input type="text" class="form-control" data-dd-id="divinita">
                  </div>
                  <div class="col-md-3 col-3">
                    <div class="text-truncate"><label class="col-form-label">Allineamento</label></div>
                    <input type="text" class="form-control" data-dd-id="allineamento">
                  </div>
                </div>
              </div>
            </div>
          </div>





          <div class="card my-1" role="tab">
            <span class="hidden-anchor" id="sec_caratteristiche"></span>
            <div class="card-header" role="tab" data-toggle="collapse" data-target="#card_caratteristiche" aria-expanded="true" aria-controls="card_caratteristiche">
              <h5 class="mb-0">
                <button type="button" class="close float-left mr-3" aria-label="Toggle">
                  <i class="fas fa-chevron-circle-up" aria-hidden="true"></i>
                </button>
                Caratteristiche
              </h5>
            </div>
            <div class="collapse show" id="card_caratteristiche">
              <div class="card-body">
                <table class="table table-striped table-sm table-responsive mb-0" data-dd-id="caratteristiche">
                  <thead>
                    <tr>
                      <th></th>
                      <th class="text-center">TB</th>
                      <th class="text-center">Razza</th>
                      <th class="text-center">Arch&nbsp;1</th>
                      <th class="text-center">Arch&nbsp;2</th>
                      <th class="text-center">Lvl</th>
                      <th class="text-center">Magia</th>
                      <th class="text-center">VV1</th>
                      <th class="text-center">VV2</th>
                      <th class="text-center">Tot</th>
                      <th class="text-center">Tmp</th>
                      <th class="text-center">M&nbsp;Tot</th>
                      <th class="text-center">M&nbsp;Tmp</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr data-dd-id="for">
                      <th scope="row" class="text-right align-middle px-3">For</th>
                      <td><input type="text" data-dd-id="tiro_base" class="text-right form-control form-control-sm dd-natural-field"></td>
                      <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="archetipo[0]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="archetipo[1]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="livello" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="tot" data-dd-formula="sum ./tiro_base ./razza ./archetipo[0] ./archetipo[1] ./livello ./magia ./varie[0] ./varie[1]" class="text-right form-control form-control-sm dd-natural-field"></td>
                      <td><input type="text" data-dd-id="temp" class="text-right form-control form-control-sm dd-natural-field"></td>
                      <td><input type="text" data-dd-id="mod_tot" data-dd-formula="mod 2 -10 ./tot" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="mod_temp" data-dd-formula="mod 2 -10 ./tot ./temp" class="text-right form-control form-control-sm dd-integer-field"></td>
                    </tr>
                    <tr data-dd-id="des">
                      <th scope="row" class="text-right align-middle px-3">Des</th>
                      <td><input type="text" data-dd-id="tiro_base" class="text-right form-control form-control-sm dd-natural-field"></td>
                      <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="archetipo[0]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="archetipo[1]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="livello" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="tot" data-dd-formula="sum ./tiro_base ./razza ./archetipo[0] ./archetipo[1] ./livello ./magia ./varie[0] ./varie[1]" class="text-right form-control form-control-sm dd-natural-field"></td>
                      <td><input type="text" data-dd-id="temp" class="text-right form-control form-control-sm dd-natural-field"></td>
                      <td><input type="text" data-dd-id="mod_tot" data-dd-formula="mod 2 -10 ./tot" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="mod_temp" data-dd-formula="mod 2 -10 ./tot ./temp" class="text-right form-control form-control-sm dd-integer-field"></td>
                    </tr>
                    <tr data-dd-id="cos">
                      <th scope="row" class="text-right align-middle px-3">Cos</th>
                      <td><input type="text" data-dd-id="tiro_base" class="text-right form-control form-control-sm dd-natural-field"></td>
                      <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="archetipo[0]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="archetipo[1]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="livello" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="tot" data-dd-formula="sum ./tiro_base ./razza ./archetipo[0] ./archetipo[1] ./livello ./magia ./varie[0] ./varie[1]" class="text-right form-control form-control-sm dd-natural-field"></td>
                      <td><input type="text" data-dd-id="temp" class="text-right form-control form-control-sm dd-natural-field"></td>
                      <td><input type="text" data-dd-id="mod_tot" data-dd-formula="mod 2 -10 ./tot" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="mod_temp" data-dd-formula="mod 2 -10 ./tot ./temp" class="text-right form-control form-control-sm dd-integer-field"></td>
                    </tr>
                    <tr data-dd-id="int">
                      <th scope="row" class="text-right align-middle px-3">Int</th>
                      <td><input type="text" data-dd-id="tiro_base" class="text-right form-control form-control-sm dd-natural-field"></td>
                      <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="archetipo[0]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="archetipo[1]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="livello" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="tot" data-dd-formula="sum ./tiro_base ./razza ./archetipo[0] ./archetipo[1] ./livello ./magia ./varie[0] ./varie[1]" class="text-right form-control form-control-sm dd-natural-field"></td>
                      <td><input type="text" data-dd-id="temp" class="text-right form-control form-control-sm dd-natural-field"></td>
                      <td><input type="text" data-dd-id="mod_tot" data-dd-formula="mod 2 -10 ./tot" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="mod_temp" data-dd-formula="mod 2 -10 ./tot ./temp" class="text-right form-control form-control-sm dd-integer-field"></td>
                    </tr>
                    <tr data-dd-id="sag">
                      <th scope="row" class="text-right align-middle px-3">Sag</th>
                      <td><input type="text" data-dd-id="tiro_base" class="text-right form-control form-control-sm dd-natural-field"></td>
                      <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="archetipo[0]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="archetipo[1]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="livello" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="tot" data-dd-formula="sum ./tiro_base ./razza ./archetipo[0] ./archetipo[1] ./livello ./magia ./varie[0] ./varie[1]" class="text-right form-control form-control-sm dd-natural-field"></td>
                      <td><input type="text" data-dd-id="temp" class="text-right form-control form-control-sm dd-natural-field"></td>
                      <td><input type="text" data-dd-id="mod_tot" data-dd-formula="mod 2 -10 ./tot" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="mod_temp" data-dd-formula="mod 2 -10 ./tot ./temp" class="text-right form-control form-control-sm dd-integer-field"></td>
                    </tr>
                    <tr data-dd-id="car">
                      <th scope="row" class="text-right align-middle px-3">Car</th>
                      <td><input type="text" data-dd-id="tiro_base" class="text-right form-control form-control-sm dd-natural-field"></td>
                      <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="archetipo[0]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="archetipo[1]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="livello" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="tot" data-dd-formula="sum ./tiro_base ./razza ./archetipo[0] ./archetipo[1] ./livello ./magia ./varie[0] ./varie[1]" class="text-right form-control form-control-sm dd-natural-field"></td>
                      <td><input type="text" data-dd-id="temp" class="text-right form-control form-control-sm dd-natural-field"></td>
                      <td><input type="text" data-dd-id="mod_tot" data-dd-formula="mod 2 -10 ./tot" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="mod_temp" data-dd-formula="mod 2 -10 ./tot ./temp" class="text-right form-control form-control-sm dd-integer-field"></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>






          <div class="card my-1" role="tab">
            <span class="hidden-anchor" id="sec_tiri_salvezza"></span>
            <div class="card-header" role="tab" data-toggle="collapse" data-target="#card_tiri_salvezza" aria-expanded="true" aria-controls="card_tiri_salvezza">
              <h5 class="mb-0">
                <button type="button" class="close float-left mr-3" aria-label="Toggle">
                  <i class="fas fa-chevron-circle-up" aria-hidden="true"></i>
                </button>
                Tiri salvezza
              </h5>
            </div>
            <div class="collapse show" id="card_tiri_salvezza">
              <div class="card-body">
                <table class="table table-striped table-sm table-responsive mb-0" data-dd-id="tiro_salvezza">
                  <thead>
                    <tr>
                      <th></th>
                      <th class="text-center">M&nbsp;Car</th>
                      <th class="text-center">Classe</th>
                      <th class="text-center">Razza</th>
                      <th class="text-center">Arch&nbsp;1</th>
                      <th class="text-center">Arch&nbsp;2</th>
                      <th class="text-center">Magia</th>
                      <th class="text-center">VV&nbsp;1</th>
                      <th class="text-center">VV&nbsp;2</th>
                      <th class="text-center">M&nbsp;Spec</th>
                      <th class="text-center">Tot</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr data-dd-id="tempra_cos">
                      <th scope="row">Tempra<sup>Cos</sup></th>
                      <td><input type="text" data-dd-id="mod" data-dd-formula="ref /caratteristiche.cos.mod_temp" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="classe" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="archetipo[0]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="archetipo[1]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="mod_speciali" class="form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="tot" data-dd-formula="sum ./mod ./classe ./razza ./archetipo[0] ./archetipo[1] ./magia ./varie[0] ./varie[1] ./mod_speciali" class="text-right form-control form-control-sm dd-integer-field"></td>
                    </tr>
                    <tr data-dd-id="tempra_des">
                      <th scope="row">Tempra<sup>Des</sup></th>
                      <td><input type="text" data-dd-id="mod" data-dd-formula="ref /caratteristiche.des.mod_temp" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="classe" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="archetipo[0]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="archetipo[1]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="mod_speciali" class="form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="tot" data-dd-formula="sum ./mod ./classe ./razza ./archetipo[0] ./archetipo[1] ./magia ./varie[0] ./varie[1] ./mod_speciali" class="text-right form-control form-control-sm dd-integer-field"></td>
                    </tr>
                    <tr data-dd-id="riflessi_des">
                      <th scope="row">Riflessi<sup>Des</sup></th>
                      <td><input type="text" data-dd-id="mod" data-dd-formula="ref /caratteristiche.des.mod_temp" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="classe" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="archetipo[0]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="archetipo[1]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="mod_speciali" class="form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="tot" data-dd-formula="sum ./mod ./classe ./razza ./archetipo[0] ./archetipo[1] ./magia ./varie[0] ./varie[1] ./mod_speciali" class="text-right form-control form-control-sm dd-integer-field"></td>
                    </tr>
                    <tr data-dd-id="volonta_sag">
                      <th scope="row">Volontà<sup>Sag</sup></th>
                      <td><input type="text" data-dd-id="mod" data-dd-formula="ref /caratteristiche.sag.mod_temp" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="classe" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="archetipo[0]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="archetipo[1]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="mod_speciali" class="form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="tot" data-dd-formula="sum ./mod ./classe ./razza ./archetipo[0] ./archetipo[1] ./magia ./varie[0] ./varie[1] ./mod_speciali" class="text-right form-control form-control-sm dd-integer-field"></td>
                    </tr>
                    <tr data-dd-id="volonta_car">
                      <th scope="row">Volontà<sup>Car</sup></th>
                      <td><input type="text" data-dd-id="mod" data-dd-formula="ref /caratteristiche.car.mod_temp" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="classe" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="archetipo[0]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="archetipo[1]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="mod_speciali" class="form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="tot" data-dd-formula="sum ./mod ./classe ./razza ./archetipo[0] ./archetipo[1] ./magia ./varie[0] ./varie[1] ./mod_speciali" class="text-right form-control form-control-sm dd-integer-field"></td>
                    </tr>
                    <tr data-dd-id="volonta_int">
                      <th scope="row">Volontà<sup>Int</sup></th>
                      <td><input type="text" data-dd-id="mod" data-dd-formula="ref /caratteristiche.int.mod_temp" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="classe" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="archetipo[0]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="archetipo[1]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="mod_speciali" class="form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="tot" data-dd-formula="sum ./mod ./classe ./razza ./archetipo[0] ./archetipo[1] ./magia ./varie[0] ./varie[1] ./mod_speciali" class="text-right form-control form-control-sm dd-integer-field"></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>


















          <div class="card my-1" role="tab">
            <span class="hidden-anchor" id="sec_comp_ling_vis"></span>
            <div class="card-header" role="tab" data-toggle="collapse" data-target="#card_competenze" aria-expanded="true" aria-controls="card_competenze">
              <h5 class="mb-0 text-truncate">
                <button type="button" class="close float-left mr-3" aria-label="Toggle">
                  <i class="fas fa-chevron-circle-up" aria-hidden="true"></i>
                </button>
                Competenze, linguaggi e visione
              </h5>
            </div>
            <div class="collapse show" id="card_competenze">
              <div class="card-body">
                <div class="row">
                  <div class="col-md-4 separatable">
                    <span class="hidden-anchor d-md-none" id="sec_comp"></span>
                    <h6 class="text-truncate">Competenze in armi e armature</h6>
                    <div class="form-row">
                      <div class="col text-truncate">
                        <label class="col-form-label col-form-label-sm">Acquisita · Nome</label>
                      </div>
                    </div>
                    <div data-dd-array="container">
                      <div class="form-row pb-1" data-dd-array="master" data-dd-id="competenze">
                        <div class="input-group input-group-sm col">
                          <div class="input-group-prepend btn-group-toggle" data-toggle="buttons">
                            <span class="btn btn-addon btn-custom-checkbox" tabindex="0">
                              <input type="checkbox" data-dd-id="attivo">
                              <i class="far fa-square fa-fw fa-lg toggle-inactive" aria-hidden="true"></i>
                              <i class="far fa-check-square fa-fw fa-lg toggle-active" aria-hidden="true"></i>
                            </span>
                          </div>
                          <input type="text" class="form-control" data-dd-id="nome">
                        </div>
                        <div class="col-auto form-row align-items-center justify-content-center">
                          <button type="button" class="close float-none text-danger" data-dd-array="remove" aria-label="Remove">
                            <i class="fas fa-minus-square" aria-hidden="true"></i>
                          </button>
                        </div>
                      </div>
                      <p class="mb-2 text-muted text-center form-text array-placeholder">
                        <small>Incompetente.</small>
                      </p>
                      <p class="form-text text-center">
                        <button type="button" class="close float-none text-success" data-dd-array="append" aria-label="Append">
                          <i class="fas fa-plus-square" aria-hidden="true"></i>
                        </button>
                      </p>
                    </div>
                  </div>
                  <div class="col-md-4 separatable">
                    <span class="hidden-anchor d-md-none" id="sec_ling"></span>
                    <h6 class="text-truncate">Linguaggi</h6>
                    <div class="form-row">
                      <div class="col text-truncate">
                        <label class="col-form-label col-form-label-sm">Conosciuto · Nome</label>
                      </div>
                      <div class="col-auto text-truncate text-right">
                        <div class="form-check form-check-inline mx-0 px-0 mb-0 form-control-sm">
                          <label class="form-check-label">
                            <input class="form-check-input" type="checkbox" data-dd-id="sa_leggere">
                            Sa leggere
                          </label>
                        </div>
                      </div>
                    </div>
                    <div data-dd-array="container">
                      <div class="form-row pb-1" data-dd-array="master" data-dd-id="linguaggi">
                        <div class="input-group input-group-sm col">
                          <div class="input-group-prepend btn-group-toggle" data-toggle="buttons">
                            <span class="btn btn-addon btn-custom-checkbox" tabindex="0">
                              <input type="checkbox" data-dd-id="attivo">
                              <i class="far fa-square fa-fw fa-lg toggle-inactive" aria-hidden="true"></i>
                              <i class="far fa-check-square fa-fw fa-lg toggle-active" aria-hidden="true"></i>
                            </span>
                          </div>
                          <input type="text" class="form-control" data-dd-id="nome">
                        </div>
                        <div class="col-auto form-row align-items-center justify-content-center">
                          <button type="button" class="close float-none text-danger" data-dd-array="remove" aria-label="Remove">
                            <i class="fas fa-minus-square" aria-hidden="true"></i>
                          </button>
                        </div>
                      </div>
                      <p class="mb-2 text-muted text-center form-text array-placeholder">
                        <small>Muto.</small>
                      </p>
                      <p class="form-text text-center">
                        <button type="button" class="close float-none text-success" data-dd-array="append" aria-label="Append">
                          <i class="fas fa-plus-square" aria-hidden="true"></i>
                        </button>
                      </p>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <span class="hidden-anchor d-md-none" id="sec_vis"></span>
                    <h6>Visione</h6>
                    <div class="form-row pr-custom">
                      <div class="col-8 text-truncate">
                        <label class="col-form-label col-form-label-sm">Acquisita · Nome</label>
                      </div>
                      <div class="col-4 text-truncate">
                        <label class="col-form-label col-form-label-sm">Raggio</label>
                      </div>
                    </div>
                    <div data-dd-array="container">
                      <div class="form-row pb-1" data-dd-array="master" data-dd-id="visione">
                        <div class="col form-row">
                          <div class="input-group input-group-sm col-8">
                            <div class="input-group-prepend btn-group-toggle" data-toggle="buttons">
                              <span class="btn btn-addon btn-custom-checkbox" tabindex="0">
                                <input type="checkbox" data-dd-id="attivo">
                                <i class="far fa-square fa-fw fa-lg toggle-inactive" aria-hidden="true"></i>
                                <i class="far fa-check-square fa-fw fa-lg toggle-active" aria-hidden="true"></i>
                              </span>
                            </div>
                            <input type="text" class="form-control" data-dd-id="nome">
                          </div>
                          <div class="col-4">
                            <input type="text" class="form-control form-control-sm" data-dd-id="distanza">
                          </div>
                        </div>
                        <div class="col-auto form-row align-items-center justify-content-center">
                          <button type="button" class="close float-none text-danger" data-dd-array="remove" aria-label="Remove">
                            <i class="fas fa-minus-square" aria-hidden="true"></i>
                          </button>
                        </div>
                      </div>
                      <p class="mb-2 text-muted text-center form-text array-placeholder">
                        <small>Visione normale.</small>
                      </p>
                      <p class="form-text text-center">
                        <button type="button" class="close float-none text-success" data-dd-array="append" aria-label="Append">
                          <i class="fas fa-plus-square" aria-hidden="true"></i>
                        </button>
                      </p>
                    </div>
                  </div>
                </div>
                <span class="hidden-anchor" id="sec_note"></span>
                <h6>Note</h6>
                <textarea data-dd-id="note" class="form-control"></textarea>
              </div>
            </div>
          </div>

















          <div class="card my-1" role="tab">
            <span class="hidden-anchor" id="sec_stat_attacco"></span>
            <div class="card-header" role="tab" data-toggle="collapse" data-target="#card_stat_attacco" aria-expanded="true" aria-controls="card_stat_attacco">
              <h5 class="mb-0 text-truncate">
                <button type="button" class="close float-left mr-3" aria-label="Toggle">
                  <i class="fas fa-chevron-circle-up" aria-hidden="true"></i>
                </button>
                Dado vita, armatura e statistiche attacco
              </h5>
            </div>
            <div class="collapse show" id="card_stat_attacco">
              <div class="card-body">
                <span class="hidden-anchor" id="sec_dado_vita"></span>
                <h6>Dado vita</h6>
                <table class="table table-striped table-sm table-responsive" data-dd-id="dado_vita">
                  <thead>
                    <tr>
                      <th class="text-center">Razza</th>
                      <th class="text-center">Cl&nbsp;1</th>
                      <th class="text-center">Cl&nbsp;2</th>
                      <th class="text-center">Cl&nbsp;3</th>
                      <th class="text-center">Cl&nbsp;4</th>
                      <th class="text-center">Cl&nbsp;5</th>
                      <th class="text-center">Cl&nbsp;6</th>
                      <th class="text-center">Cl&nbsp;7</th>
                      <th class="text-center">Cl&nbsp;8</th>
                      <th class="text-center">Cl&nbsp;9</th>
                      <th class="text-center">Tot</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td><input type="text" data-dd-id="razza" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="classe[0]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="classe[1]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="classe[2]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="classe[3]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="classe[4]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="classe[5]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="classe[6]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="classe[7]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="classe[8]" class="text-right form-control form-control-sm"></td>
                      <td><input type="text" data-dd-id="tot" class="text-right form-control form-control-sm"></td>
                    </tr>
                  </tbody>
                </table>
                <span class="hidden-anchor" id="sec_armatura"></span>
                <h6 class="mt-3">Armatura</h6>
                <table class="table table-striped table-sm table-responsive">
                  <thead>
                    <tr>
                      <th></th>
                      <th class="text-center">Base</th>
                      <th class="text-center">Armat</th>
                      <th class="text-center">Scudo</th>
                      <th class="text-center">Des</th>
                      <th class="text-center">Taglia</th>
                      <th class="text-center">A&nbsp;Nat</th>
                      <th class="text-center">Deviaz</th>
                      <th class="text-center">Cognit</th>
                      <th class="text-center">VV1</th>
                      <th class="text-center">VV2</th>
                      <th class="text-center">Tot</th>
                      <th class="text-center">Tmp</th>
                      <th class="text-center">Tot&nbsp;Tmp</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr data-dd-id="classe_armatura">
                      <th>CA</th>
                      <td class="text-center text-muted align-middle"><small>10/1d20</small></td>
                      <td><input type="text" data-dd-id="armatura" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="scudo" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="des" data-dd-formula="ref /caratteristiche.des.mod_temp" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="taglia" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="armatura_naturale" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="deviazione" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="cognitivo" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="tot" data-dd-formula="sum 10 ./armatura ./scudo ./des ./taglia ./armatura_naturale ./deviazione ./cognitivo ./varie[0] ./varie[1]" class="text-right form-control form-control-sm dd-natural-field"></td>
                      <td><input type="text" data-dd-id="temp" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="tot_temp" data-dd-formula="sum ./tot ./temp" class="text-right form-control form-control-sm dd-natural-field"></td>
                    </tr>
                    <tr data-dd-id="contatto">
                      <th>Contatto</th>
                      <td class="text-center text-muted align-middle"><small>10/1d20</small></td>
                      <td><input type="text" data-dd-id="armatura" class="text-right form-control form-control-sm dd-integer-field" disabled></td>
                      <td><input type="text" data-dd-id="scudo" class="text-right form-control form-control-sm dd-integer-field" disabled></td>
                      <td><input type="text" data-dd-id="des" data-dd-formula="ref /caratteristiche.des.mod_temp" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="taglia" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="armatura_naturale" class="text-right form-control form-control-sm dd-integer-field" disabled></td>
                      <td><input type="text" data-dd-id="deviazione" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="cognitivo" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="tot" data-dd-formula="sum 10 ./armatura ./scudo ./des ./taglia ./armatura_naturale ./deviazione ./cognitivo ./varie[0] ./varie[1]" class="text-right form-control form-control-sm dd-natural-field"></td>
                      <td><input type="text" data-dd-id="temp" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="tot_temp" data-dd-formula="sum ./tot ./temp" class="text-right form-control form-control-sm dd-natural-field"></td>
                    </tr>
                    <tr data-dd-id="colto_alla_sprovvista">
                      <th>Colto&nbsp;alla&nbsp;s.</th>
                      <td class="text-center text-muted align-middle"><small>10/1d20</small></td>
                      <td><input type="text" data-dd-id="armatura" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="scudo" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="des" class="text-right form-control form-control-sm dd-integer-field" disabled></td>
                      <td><input type="text" data-dd-id="taglia" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="armatura_naturale" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="deviazione" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="cognitivo" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="tot" data-dd-formula="sum 10 ./armatura ./scudo ./des ./taglia ./armatura_naturale ./deviazione ./cognitivo ./varie[0] ./varie[1]" class="text-right form-control form-control-sm dd-natural-field"></td>
                      <td><input type="text" data-dd-id="temp" class="text-right form-control form-control-sm dd-integer-field"></td>
                      <td><input type="text" data-dd-id="tot_temp" data-dd-formula="sum ./tot ./temp" class="text-right form-control form-control-sm dd-natural-field"></td>
                    </tr>
                  </tbody>
                </table>
                <span class="hidden-anchor" id="sec_ogg_protettivi"></span>
                <h6 class="mt-3">Oggetti protettivi</h6>
                <div class="d-none d-md-block">
                  <div class="form-row pr-custom">
                    <div class="col">
                      <label class="col-form-label col-form-label-sm">Oggetto</label>
                    </div>
                    <div class="col-2">
                      <label class="col-form-label col-form-label-sm">Tipo</label>
                    </div>
                    <div class="col-1">
                      <div class="text-truncate"><label class="col-form-label col-form-label-sm">Bonus&nbsp;CA</label></div>
                    </div>
                    <div class="col-1">
                      <div class="text-truncate"><label class="col-form-label col-form-label-sm">Des&nbsp;max</label></div>
                    </div>
                    <div class="col-1">
                      <div class="text-truncate"><label class="col-form-label col-form-label-sm">Penalità</label></div>
                    </div>
                    <div class="col-1">
                      <div class="text-truncate"><label class="col-form-label col-form-label-sm">F.&nbsp;Incant</label></div>
                    </div>
                    <div class="col-1">
                      <div class="text-truncate"><label class="col-form-label col-form-label-sm">Res</label></div>
                    </div>
                    <div class="col-1">
                      <div class="text-truncate"><label class="col-form-label col-form-label-sm">Durezza</label></div>
                    </div>
                  </div>
                </div>
                <div data-dd-array="container">
                  <div class="form-row pb-1 striped" data-dd-array="master" data-dd-id="ogg_protettivo">
                    <div class="col form-row">
                      <div class="col-md col-8">
                        <label class="col-form-label col-form-label-sm d-md-none">Oggetto</label>
                        <input type="text" class="form-control form-control-sm" data-dd-id="oggetto">
                      </div>
                      <div class="col-md-2 col-4">
                        <label class="col-form-label col-form-label-sm d-md-none">Tipo</label>
                        <input type="text" class="form-control form-control-sm" data-dd-id="tipo">
                      </div>
                      <div class="col-md-1 col-2">
                        <div class="text-truncate"><label class="col-form-label col-form-label-sm d-md-none">Bonus&nbsp;CA</label></div>
                        <input type="text" class="form-control form-control-sm" data-dd-id="bonus_ca">
                      </div>
                      <div class="col-md-1 col-2">
                        <div class="text-truncate"><label class="col-form-label col-form-label-sm d-md-none">Des&nbsp;max</label></div>
                        <input type="text" class="form-control form-control-sm" data-dd-id="des_max">
                      </div>
                      <div class="col-md-1 col-2">
                        <div class="text-truncate"><label class="col-form-label col-form-label-sm d-md-none">Penalità</label></div>
                        <input type="text" class="form-control form-control-sm" data-dd-id="penalita">
                      </div>
                      <div class="col-md-1 col-2">
                        <div class="text-truncate"><label class="col-form-label col-form-label-sm d-md-none">F.&nbsp;Incant</label></div>
                        <input type="text" class="form-control form-control-sm" data-dd-id="f_incant">
                      </div>
                      <div class="col-md-1 col-2">
                        <div class="text-truncate"><label class="col-form-label col-form-label-sm d-md-none">Res</label></div>
                        <input type="text" class="form-control form-control-sm" data-dd-id="resistenza">
                      </div>
                      <div class="col-md-1 col-2">
                        <div class="text-truncate"><label class="col-form-label col-form-label-sm d-md-none">Durezza</label></div>
                        <input type="text" class="form-control form-control-sm" data-dd-id="durezza">
                      </div>
                    </div>
                    <div class="col-auto form-row align-items-center justify-content-center">
                      <button type="button" class="close float-none text-danger" data-dd-array="remove" aria-label="Remove">
                        <i class="fas fa-minus-square" aria-hidden="true"></i>
                      </button>
                    </div>
                  </div>
                  <p class="mb-2 text-muted text-center form-text array-placeholder">
                    <small>Nessuno.</small>
                  </p>
                  <p class="form-text text-center mb-1">
                    <button type="button" class="close float-none text-success" data-dd-array="append" aria-label="Append">
                      <i class="fas fa-plus-square" aria-hidden="true"></i>
                    </button>
                  </p>
                </div>

                <div class="row mt-md-3">
                  <span class="hidden-anchor d-none d-md-block" id="sec_bab_iniziativa"></span>
                  <div class="col-md-6 separatable">
                    <span class="hidden-anchor d-md-none" id="sec_bab"></span>
                    <h6>Bonus attacco base</h6>
                    <table class="table table-striped table-sm table-responsive" data-dd-id="bonus_att_base">
                      <thead>
                      <tr>
                        <th class="text-center">Att&nbsp;1</th>
                        <th class="text-center">Att&nbsp;2</th>
                        <th class="text-center">Att&nbsp;3</th>
                        <th class="text-center">Att&nbsp;4</th>
                        <th class="text-center">Att&nbsp;5</th>
                        <th class="text-center">AO</th>
                      </tr>
                     </thead>
                     <tbody>
                      <tr>
                        <td><input type="text" data-dd-id="att[0]" class="text-right form-control form-control-sm dd-natural-field"></td>
                        <td><input type="text" data-dd-id="att[1]" class="text-right form-control form-control-sm dd-natural-field"></td>
                        <td><input type="text" data-dd-id="att[2]" class="text-right form-control form-control-sm dd-natural-field"></td>
                        <td><input type="text" data-dd-id="att[3]" class="text-right form-control form-control-sm dd-natural-field"></td>
                        <td><input type="text" data-dd-id="att[4]" class="text-right form-control form-control-sm dd-natural-field"></td>
                        <td><input type="text" data-dd-id="att_opportunita" data-dd-formula="ref ./att[0]" class="text-right form-control form-control-sm dd-natural-field" readonly></td>
                      </tr>
                     </tbody>
                    </table>
                  </div>
                  <div class="col-md-6">
                    <span class="hidden-anchor d-md-none" id="sec_iniziativa"></span>
                    <h6>Iniziativa</h6>
                    <table class="table table-striped table-sm table-responsive" data-dd-id="iniziativa">
                      <thead>
                      <tr>
                        <th class="text-center">Des</th>
                        <th class="text-center">Tal</th>
                        <th class="text-center">VV&nbsp;1</th>
                        <th class="text-center">VV&nbsp;2</th>
                        <th class="text-center">Tot</th>
                      </tr>
                     </thead>
                     <tbody>
                      <tr>
                        <td><input type="text" data-dd-id="des" data-dd-formula="ref /caratteristiche.des.mod_temp" class="text-right form-control form-control-sm dd-integer-field"></td>
                        <td><input type="text" data-dd-id="talento" class="text-right form-control form-control-sm dd-integer-field"></td>
                        <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm dd-integer-field"></td>
                        <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm dd-integer-field"></td>
                        <td><input type="text" data-dd-id="tot" data-dd-formula="sum ./des ./talento ./varie[0] ./varie[1]" class="text-right form-control form-control-sm dd-integer-field"></td>
                      </tr>
                     </tbody>
                    </table>
                  </div>
                </div>

                <div class="row mt-md-3">
                  <span class="hidden-anchor d-none d-md-block" id="sec_pf_rd_ri"></span>
                  <div class="col-md-3 separatable">
                    <span class="hidden-anchor d-md-none" id="sec_punti_ferita"></span>
                    <h6>Punti ferita</h6>
                    <table class="table table-striped table-sm table-responsive" data-dd-id="punti_ferita">
                      <thead>
                        <tr>
                          <th class="text-center">Tot</th>
                          <th class="text-center">Tot&nbsp;Tmp</th>
                        </tr>
                       </thead>
                       <tbody>
                        <tr>
                          <td><input type="text" data-dd-id="tot" class="text-right form-control form-control-sm"></td>
                          <td><input type="text" data-dd-id="temp" class="text-right form-control form-control-sm"></td>
                        </tr>
                       </tbody>
                    </table>
                  </div>
                  <div class="col-md-3 separatable">
                    <span class="hidden-anchor d-md-none" id="sec_res_incant"></span>
                    <h6 class="text-truncate">Res. Incantesimi</h6>
                    <table class="table table-striped table-sm table-responsive" data-dd-id="resistenza_incantesimi">
                      <thead>
                        <tr>
                          <th class="text-center">Tot</th>
                          <th class="text-center">Tot&nbsp;Tmp</th>
                        </tr>
                       </thead>
                       <tbody>
                        <tr>
                          <td><input type="text" class="text-right form-control form-control-sm" data-dd-id="tot"></td>
                          <td><input type="text" class="text-right form-control form-control-sm" data-dd-id="temp"></td>
                        </tr>
                       </tbody>
                    </table>
                  </div>
                  <div class="col-md-6">
                    <span class="hidden-anchor d-md-none" id="sec_res_danno"></span>
                    <h6>Resistenza danno</h6>
                    <table class="table table-striped table-sm table-responsive" data-dd-id="resistenza_danno">
                      <thead>
                        <tr>
                          <th class="text-center">Tot/Tipo</th>
                          <th class="text-center">Tot/Tipo</th>
                          <th class="text-center">Tot/Tipo</th>
                          <th class="text-center">Tot/Tipo</th>
                          <th class="text-center">Migl&nbsp;Tot</th>
                        </tr>
                       </thead>
                       <tbody>
                        <tr>
                          <td><input type="text" class="text-right form-control form-control-sm" data-dd-id="tot_tipo[0]"></td>
                          <td><input type="text" class="text-right form-control form-control-sm" data-dd-id="tot_tipo[1]"></td>
                          <td><input type="text" class="text-right form-control form-control-sm" data-dd-id="tot_tipo[2]"></td>
                          <td><input type="text" class="text-right form-control form-control-sm" data-dd-id="tot_tipo[3]"></td>
                          <td><input type="text" class="text-right form-control form-control-sm" data-dd-id="migl_tot"></td>
                        </tr>
                       </tbody>
                    </table>
                  </div>
                </div>

                <div class="row mt-md-3">
                  <span class="hidden-anchor d-none d-md-block" id="sec_lotta_opportunita"></span>
                  <div class="col-md-9 separatable">
                    <span class="hidden-anchor d-md-none" id="sec_lotta"></span>
                    <h6>Lotta</h6>
                    <table class="table table-striped table-sm table-responsive mb-0" data-dd-id="lotta">
                      <thead>
                      <tr>
                        <th class="text-center">BAB</th>
                        <th class="text-center">For</th>
                        <th class="text-center">Taglia</th>
                        <th class="text-center">Tal</th>
                        <th class="text-center">Mag</th>
                        <th class="text-center">VV&nbsp;1</th>
                        <th class="text-center">VV&nbsp;2</th>
                        <th class="text-center">Tot</th>
                      </tr>
                     </thead>
                     <tbody>
                      <tr>
                        <td><input type="text" data-dd-id="bonus_att_base" data-dd-formula="ref /bonus_att_base.att[0]" class="text-right form-control form-control-sm dd-natural-field"></td>
                        <td><input type="text" data-dd-id="for" data-dd-formula="ref /caratteristiche.for.mod_temp" class="text-right form-control form-control-sm dd-integer-field"></td>
                        <td><input type="text" data-dd-id="taglia" class="text-right form-control form-control-sm dd-integer-field"></td>
                        <td><input type="text" data-dd-id="talento" class="text-right form-control form-control-sm dd-integer-field"></td>
                        <td><input type="text" data-dd-id="magia" class="text-right form-control form-control-sm dd-integer-field"></td>
                        <td><input type="text" data-dd-id="varie[0]" class="text-right form-control form-control-sm dd-integer-field"></td>
                        <td><input type="text" data-dd-id="varie[1]" class="text-right form-control form-control-sm dd-integer-field"></td>
                        <td><input type="text" data-dd-id="tot" data-dd-formula="sum ./bonus_att_base ./for ./taglia ./talento ./magia ./varie[0] ./varie[1]" class="text-right form-control form-control-sm dd-natural-field"></td>
                      </tr>
                     </tbody>
                    </table>
                  </div>
                  <div class="col-md-3">
                    <span class="hidden-anchor d-md-none" id="sec_att_opportunita"></span>
                    <h6 class="text-truncate mt-3 mt-md-0">Att. di opportunità</h6>
                    <div>
                      <label class="col-form-label col-form-label-sm">Totale</label>
                      <input type="text" data-dd-id="att_opportunita" class="text-right form-control form-control-sm dd-natural-field">
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>


















          <div class="card my-1" role="tab">
            <span class="hidden-anchor" id="sec_attacchi"></span>
            <div class="card-header" role="tab" data-toggle="collapse" data-target="#card_attacchi" aria-expanded="true" aria-controls="card_attacchi">
              <h5 class="mb-0">
                <button type="button" class="close float-left mr-3" aria-label="Toggle">
                  <i class="fas fa-chevron-circle-up" aria-hidden="true"></i>
                </button>
                Elenco attacchi
              </h5>
            </div>
            <div class="collapse show" id="card_attacchi">
              <div class="card-body" data-dd-array="container" id="array_attacchi">
                <div class="card" data-dd-array="master" data-dd-id="attacchi" role="tab">
                  <div class="card-body">
                    <h6 class="card-title">
                      <span class="hidden-anchor"></span>
                      <span class="dd-dyn-title">Attacco</span>
                      <button type="button" class="close text-danger" data-dd-array="remove" aria-label="Remove">
                        <i class="fas fa-minus-square" aria-hidden="true"></i>
                      </button>
                    </h6>
                    <div class="form-row">
                      <div class="col-md-8 col-12">
                        <label class="col-form-label">Nome/descrizione</label>
                        <input type="text" class="form-control dd-dyn-title" data-dd-id="nome">
                      </div>
                      <div class="col-md-2 col-6">
                        <label class="col-form-label">Tipo</label>
                        <select class="form-control" data-dd-id="tipo">
                          <option value="mischia" selected>In mischia</option>
                          <option value="distanza">A distanza</option>
                          <option value="senza_armi">Senz'armi</option>
                        </select>
                      </div>
                      <div class="col-md-2 col-6">
                        <div class="text-truncate"><label class="col-form-label">Punti ferita</label></div>
                        <input type="text" class="form-control" data-dd-id="punti_ferita">
                      </div>
                    </div>
                    <div class="form-row">
                      <div class="col-md-2 col-4">
                        <div class="text-truncate"><label class="col-form-label">Peso</label></div>
                        <input type="text" class="form-control" data-dd-id="peso">
                      </div>
                      <div class="col-md-2 col-4">
                        <div class="text-truncate"><label class="col-form-label">Taglia ogg.</label></div>
                        <input type="text" class="form-control" data-dd-id="taglia_oggetto">
                      </div>
                      <div class="col-md-2 col-4">
                        <div class="text-truncate"><label class="col-form-label">CA arma</label></div>
                        <input type="text" class="form-control" data-dd-id="ca_arma">
                      </div>
                      <div class="col-md-2 col-4">
                        <div class="text-truncate"><label class="col-form-label">Materiale</label></div>
                        <input type="text" class="form-control" data-dd-id="materiale">
                      </div>
                      <div class="col-md-2 col-4">
                        <div class="text-truncate"><label class="col-form-label">Durezza</label></div>
                        <input type="text" class="form-control" data-dd-id="durezza">
                      </div>
                      <div class="col-md-2 col-4">
                        <div class="text-truncate"><label class="col-form-label">Prezzo</label></div>
                        <input type="text" class="form-control" data-dd-id="prezzo">
                      </div>
                    </div>
                    <div class="form-row">
                      <div class="col-md-2 col-4">
                        <div class="text-truncate"><label class="col-form-label">Munizioni</label></div>
                        <input type="text" class="form-control" data-dd-id="munizioni">
                      </div>
                      <div class="col-md-2 col-4">
                        <div class="text-truncate"><label class="col-form-label">Quantità</label></div>
                        <input type="text" class="form-control" data-dd-id="quantita">
                      </div>
                      <div class="col-md-2 col-4">
                        <div class="text-truncate"><label class="col-form-label">Portata/gittata</label></div>
                        <input type="text" class="form-control" data-dd-id="portata">
                      </div>
                      <div class="col-md-2 col-4">
                        <div class="text-truncate"><label class="col-form-label">Tipo dell'arma</label></div>
                        <input type="text" class="form-control" data-dd-id="tipo_arma">
                      </div>
                      <div class="col-md-2 col-4">
                        <div class="text-truncate"><label class="col-form-label">Aura</label></div>
                        <input type="text" class="form-control" data-dd-id="aura">
                      </div>
                      <div class="col-md-2 col-4">
                        <div class="text-truncate"><label class="col-form-label">Scuola</label></div>
                        <input type="text" class="form-control" data-dd-id="scuola">
                      </div>
                    </div>

                    <div class="row mt-3">
                      <div class="col-md-6 separatable" data-dd-id="tiro_colpire">
                        <h6>Tiro per colpire</h6>
                        <div class="form-row">
                          <div class="col-3">
                            <div class="text-truncate"><label class="col-form-label col-form-label-sm">Mod effett</label></div>
                            <input type="text" class="form-control form-control-sm" data-dd-id="mod_eff">
                          </div>
                          <div class="col-3">
                            <label class="col-form-label col-form-label-sm">Mod</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="mod">
                          </div>
                          <div class="col-6">
                            <label class="col-form-label col-form-label-sm">Caratteristica</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="caratteristica">
                          </div>
                        </div>
                        <div class="form-row" data-dd-id="mod_razziali">
                          <div class="col-2">
                            <label class="col-form-label col-form-label-sm">Mod</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="mod">
                          </div>
                          <div class="col-10">
                            <label class="col-form-label col-form-label-sm">Modificatori razziali</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="nome">
                          </div>
                        </div>
                        <div class="form-row" data-dd-id="mod_magici">
                          <div class="col-2">
                            <label class="col-form-label col-form-label-sm">Mod</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="mod">
                          </div>
                          <div class="col-10">
                            <label class="col-form-label col-form-label-sm">Modificatori magici</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="nome">
                          </div>
                        </div>
                        <div class="form-row" data-dd-id="mod_vv[0]">
                          <div class="col-2">
                            <label class="col-form-label col-form-label-sm">Mod</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="mod">
                          </div>
                          <div class="col-10">
                            <label class="col-form-label col-form-label-sm">Modificatori vari 1</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="nome">
                          </div>
                        </div>
                        <div class="form-row" data-dd-id="mod_vv[1]">
                          <div class="col-2">
                            <label class="col-form-label col-form-label-sm">Mod</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="mod">
                          </div>
                          <div class="col-10">
                            <label class="col-form-label col-form-label-sm">Modificatori vari 2</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="nome">
                          </div>
                        </div>
                        <div class="form-row">
                          <div class="col-2">
                            <div class="text-truncate"><label class="col-form-label col-form-label-sm">M&nbsp;taglia</label></div>
                            <input type="text" class="form-control form-control-sm" data-dd-id="mod_taglia">
                          </div>
                          <div class="col-10">
                            <label class="col-form-label col-form-label-sm">Talenti per il critico</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="critico_talenti">
                          </div>
                        </div>
                        <div class="form-row">
                          <div class="col-2">
                            <label class="col-form-label col-form-label-sm">BAB</label>
                            <input type="text" class="form-control form-control-sm" readonly value="Att 1">
                          </div>
                          <div class="col-10">
                            <label class="col-form-label col-form-label-sm">Modificatori VV Critico</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="mod_critico">
                          </div>
                        </div>
                        <div class="form-row">
                          <div class="col-4">
                            <label class="col-form-label col-form-label-sm">Tot</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="tot">
                          </div>
                          <div class="col-4">
                            <label class="col-form-label col-form-label-sm">Tot Spec</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="tot_spec">
                          </div>
                          <div class="col-4">
                            <label class="col-form-label col-form-label-sm">Critico</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="critico">
                          </div>
                        </div>
                        <div class="form-row">
                          <div class="col-2 text-truncate">
                            <label class="col-form-label col-form-label-sm">Mod</label>
                          </div>
                          <div class="col text-truncate">
                            <label class="col-form-label col-form-label-sm">Talenti</label>
                          </div>
                        </div>
                        <div data-dd-array="container">
                          <div class="form-row pb-1" data-dd-array="master" data-dd-id="mod_talenti">
                            <div class="col-2">
                              <input type="text" class="form-control form-control-sm" data-dd-id="mod">
                            </div>
                            <div class="col">
                              <input type="text" class="form-control form-control-sm" data-dd-id="nome">
                            </div>
                            <div class="col-auto form-row align-items-center justify-content-center">
                              <button type="button" class="close float-none text-danger" data-dd-array="remove" aria-label="Remove">
                                <i class="fas fa-minus-square" aria-hidden="true"></i>
                              </button>
                            </div>
                          </div>
                          <p class="mb-2 text-muted text-center form-text array-placeholder">
                            <small>Nessun modificatore talenti.</small>
                          </p>
                          <p class="form-text text-center">
                            <button type="button" class="close float-none text-success" data-dd-array="append" aria-label="Append">
                              <i class="fas fa-plus-square" aria-hidden="true"></i>
                            </button>
                          </p>
                        </div>
                      </div>
                      <div class="col-md-6" data-dd-id="tiro_danni">
                        <h6>Tiro per i danni</h6>
                        <div class="form-row">
                          <div class="col-3">
                            <div class="text-truncate"><label class="col-form-label col-form-label-sm">Mod effett</label></div>
                            <input type="text" class="form-control form-control-sm" data-dd-id="mod_eff">
                          </div>
                          <div class="col-3">
                            <label class="col-form-label col-form-label-sm">Mod</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="mod">
                          </div>
                          <div class="col-6">
                            <label class="col-form-label col-form-label-sm">Caratteristica</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="caratteristica">
                          </div>
                        </div>
                        <div class="form-row" data-dd-id="mod_razziali">
                          <div class="col-2">
                            <label class="col-form-label col-form-label-sm">Mod</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="mod">
                          </div>
                          <div class="col-10">
                            <label class="col-form-label col-form-label-sm">Modificatori razziali</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="nome">
                          </div>
                        </div>
                        <div class="form-row" data-dd-id="mod_magici">
                          <div class="col-2">
                            <label class="col-form-label col-form-label-sm">Mod</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="mod">
                          </div>
                          <div class="col-10">
                            <label class="col-form-label col-form-label-sm">Modificatori magici</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="nome">
                          </div>
                        </div>
                        <div class="form-row" data-dd-id="mod_vv[0]">
                          <div class="col-2">
                            <label class="col-form-label col-form-label-sm">Mod</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="mod">
                          </div>
                          <div class="col-10">
                            <label class="col-form-label col-form-label-sm">Modificatori vari 1</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="nome">
                          </div>
                        </div>
                        <div class="form-row" data-dd-id="mod_vv[1]">
                          <div class="col-2">
                            <label class="col-form-label col-form-label-sm">Mod</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="mod">
                          </div>
                          <div class="col-10">
                            <label class="col-form-label col-form-label-sm">Modificatori vari 2</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="nome">
                          </div>
                        </div>
                        <div class="form-row">
                          <div class="col-2">
                            <label class="col-form-label col-form-label-sm">Tot</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="tot">
                          </div>
                          <div class="col-10">
                            <label class="col-form-label col-form-label-sm">Danni speciali 1</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="danni_speciali[0]">
                          </div>
                        </div>
                        <div class="form-row">
                          <div class="col-2">
                            <div class="text-truncate"><label class="col-form-label col-form-label-sm">Tipo&nbsp;danni</label></div>
                            <input type="text" class="form-control form-control-sm" data-dd-id="tipo_speciali">
                          </div>
                          <div class="col-10">
                            <label class="col-form-label col-form-label-sm">Danni speciali 2</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="danni_speciali[1]">
                          </div>
                        </div>
                        <div class="form-row">
                          <div class="col-2">
                            <div class="text-truncate"><label class="col-form-label col-form-label-sm">D&nbsp;non&nbsp;Let</label></div>
                            <input type="text" class="form-control form-control-sm" data-dd-id="d_non_let">
                          </div>
                          <div class="col-10">
                            <label class="col-form-label col-form-label-sm">Danni speciali 3</label>
                            <input type="text" class="form-control form-control-sm" data-dd-id="danni_speciali[2]">
                          </div>
                        </div>
                        <div class="form-row">
                          <div class="col-2 text-truncate">
                            <label class="col-form-label col-form-label-sm">Mod</label>
                          </div>
                          <div class="col text-truncate">
                            <label class="col-form-label col-form-label-sm">Talenti</label>
                          </div>
                        </div>
                        <div data-dd-array="container">
                          <div class="form-row pb-1" data-dd-array="master" data-dd-id="mod_talenti">
                            <div class="col-2">
                              <input type="text" class="form-control form-control-sm" data-dd-id="mod">
                            </div>
                            <div class="col">
                              <input type="text" class="form-control form-control-sm" data-dd-id="nome">
                            </div>
                            <div class="col-auto form-row align-items-center justify-content-center">
                              <button type="button" class="close float-none text-danger" data-dd-array="remove" aria-label="Remove">
                                <i class="fas fa-minus-square" aria-hidden="true"></i>
                              </button>
                            </div>
                          </div>
                          <p class="mb-2 text-muted text-center form-text array-placeholder">
                            <small>Nessun modificatore talenti.</small>
                          </p>
                          <p class="form-text text-center">
                            <button type="button" class="close float-none text-success" data-dd-array="append" aria-label="Append">
                              <i class="fas fa-plus-square" aria-hidden="true"></i>
                            </button>
                          </p>
                        </div>
                      </div>
                    </div>
                    <div>
                      <label class="col-form-label">Capacità magiche e note:</label>
                      <textarea class="form-control" data-dd-id="note"></textarea>
                    </div>
                  </div>
                </div>
                <p class="text-muted text-center array-placeholder">
                  Nessun attacco.
                </p>
                <p class="form-text text-center">
                  <button type="button" class="close float-none text-success" data-dd-array="append" aria-label="Append">
                    <i class="fas fa-plus-square" aria-hidden="true"></i>
                  </button>
                </p>
              </div>
            </div>
          </div>






















          <div class="card my-1" role="tab">
            <span class="hidden-anchor" id="sec_talenti_skills"></span>
            <div class="card-header" role="tab" data-toggle="collapse" data-target="#card_talenti_skills" aria-expanded="true" aria-controls="card_talenti_skills">
              <h5 class="mb-0 text-truncate">
                <button type="button" class="close float-left mr-3" aria-label="Toggle">
                  <i class="fas fa-chevron-circle-up" aria-hidden="true"></i>
                </button>
                Talenti, skill tricks, privilegi di classe
              </h5>
            </div>
            <div class="collapse show" id="card_talenti_skills">
              <div class="card-body">
                <div class="row">
                  <div class="col-md-6 separatable">
                    <span class="hidden-anchor d-md-none" id="sec_talenti"></span>
                    <h6 class="text-truncate">Talenti, difetti e skill tricks</h6>
                    <div class="form-row pr-custom">
                      <div class="col-8">
                        <label class="col-form-label col-form-label-sm">Nome</label>
                      </div>
                      <div class="col-2">
                        <label class="col-form-label col-form-label-sm">Lvl</label>
                      </div>
                      <div class="col-2">
                        <label class="col-form-label col-form-label-sm">Rif</label>
                      </div>
                    </div>
                    <div data-dd-array="container">
                      <div class="form-row pb-1" data-dd-array="master" data-dd-id="talenti">
                        <div class="col form-row">
                          <div class="col-8">
                            <input type="text" class="form-control form-control-sm" data-dd-id="nome">
                          </div>
                          <div class="col-2">
                            <input type="text" class="form-control form-control-sm dd-autosort dd-sort-key" data-dd-id="livello">
                          </div>
                          <div class="col-2">
                            <input type="text" class="form-control form-control-sm" data-dd-id="riferimento">
                          </div>
                        </div>
                        <div class="col-auto form-row align-items-center justify-content-center">
                          <button type="button" class="close float-none text-danger" data-dd-array="remove" aria-label="Remove">
                            <i class="fas fa-minus-square" aria-hidden="true"></i>
                          </button>
                        </div>
                      </div>
                      <p class="mb-2 text-muted text-center form-text array-placeholder">
                        <small>Nessuno.</small>
                      </p>
                      <p class="form-text text-center mb-1">
                        <button type="button" class="close float-none text-success" data-dd-array="append" aria-label="Append">
                          <i class="fas fa-plus-square" aria-hidden="true"></i>
                        </button>
                      </p>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <span class="hidden-anchor d-md-none" id="sec_privilegi"></span>
                    <h6 class="text-truncate">Privilegi di classe, capacità speciali</h6>
                    <div class="form-row pr-custom">
                      <div class="col-6 col-md-5 col-xl-6">
                        <label class="col-form-label col-form-label-sm">Nome</label>
                      </div>
                      <div class="col-2 col-md-3 col-xl-2">
                        <label class="col-form-label col-form-label-sm">Tipo</label>
                      </div>
                      <div class="col-2">
                        <label class="col-form-label col-form-label-sm">Lvl</label>
                      </div>
                      <div class="col-2">
                        <label class="col-form-label col-form-label-sm">Rif</label>
                      </div>
                    </div>
                    <div data-dd-array="container">
                      <div class="form-row pb-1" data-dd-array="master" data-dd-id="privilegi">
                        <div class="col form-row">
                          <div class="col-6 col-md-5 col-xl-6">
                            <input type="text" class="form-control form-control-sm" data-dd-id="nome">
                          </div>
                          <div class="col-2 col-md-3 col-xl-2">
                            <select class="form-control form-control-sm" data-dd-id="tipo">
                              <option value="" selected>n/a</option>
                              <option value="straordinario">Str</option>
                              <option value="soprannaturale">Sop</option>
                              <option value="magico">Mag</option>
                            </select>
                          </div>
                          <div class="col-2">
                            <input type="text" class="form-control form-control-sm" data-dd-id="livello">
                          </div>
                          <div class="col-2">
                            <input type="text" class="form-control form-control-sm" data-dd-id="riferimento">
                          </div>
                        </div>
                        <div class="col-auto form-row align-items-center justify-content-center">
                          <button type="button" class="close float-none text-danger" data-dd-array="remove" aria-label="Remove">
                            <i class="fas fa-minus-square" aria-hidden="true"></i>
                          </button>
                        </div>
                      </div>
                      <p class="mb-2 text-muted text-center form-text array-placeholder">
                        <small>Nessuno.</small>
                      </p>
                      <p class="form-text text-center mb-1">
                        <button type="button" class="close float-none text-success" data-dd-array="append" aria-label="Append">
                          <i class="fas fa-plus-square" aria-hidden="true"></i>
                        </button>
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>



















          <div class="card my-1" role="tab">
            <span class="hidden-anchor" id="sec_abilita"></span>
            <div class="card-header" role="tab" data-toggle="collapse" data-target="#card_abilita" aria-expanded="true" aria-controls="card_abilita">
              <h5 class="mb-0">
                <button type="button" class="close float-left mr-3" aria-label="Toggle">
                  <i class="fas fa-chevron-circle-up" aria-hidden="true"></i>
                </button>
                Abilità
              </h5>
            </div>
            <div class="collapse show" id="card_abilita">
              <div class="card-body">

                <div class="form-row">
                  <div class="col-md-2 col-6">
                    <div class="text-truncate"><label class="col-form-label">Grado max:</label></div>
                    <input type="text" class="form-control" data-dd-id="grado_max">
                  </div>
                  <div class="col-md-2 col-6">
                    <div class="text-truncate"><label class="col-form-label">Gradi:</label></div>
                    <input type="text" class="form-control" data-dd-id="gradi">
                  </div>
                  <div class="col-md-2 col-6">
                    <label class="col-form-label">Modificatori:</label>
                    <button type="button" class="btn btn-secondary d-block w-100" id="toggle_abilities_modifier">
                      <span class="toggle-inactive">Mostra</span>
                      <span class="toggle-active d-none">Nascondi</span>
                    </button>
                  </div>
                </div>

                <h6 class="mt-3">Elenco abilità</h6>

                <div class="d-none d-md-block">
                  <div class="form-row pr-custom">
                    <div class="col-8 text-truncate">
                      <label class="col-form-label col-form-label-sm">Acquisita · Nome · Di classe</label>
                    </div>
                    <div class="col-2 text-truncate">
                      <label class="col-form-label col-form-label-sm">Car chiave · Mod C</label>
                    </div>
                    <div class="col-1 text-truncate">
                      <label class="col-form-label col-form-label-sm">Gradi</label>
                    </div>
                    <div class="col-1 text-truncate">
                      <label class="col-form-label col-form-label-sm">Totale</label>
                    </div>
                  </div>
                </div>


                <div data-dd-array="container" id="array_abilita">
                  <div class="form-row pb-1 striped position-relative" data-dd-array="master" data-dd-id="abilita">
                    <div class="col pt-1-if-striped">
                      <div class="form-row">
                        <div class="col-md-8">
                          <label class="col-form-label col-form-label-sm d-md-none">Acquisita · Nome · Di classe</label>
                          <div class="input-group input-group-sm">
                            <div class="input-group-prepend btn-group-toggle" data-toggle="buttons">
                              <span class="btn btn-addon btn-custom-checkbox" tabindex="0">
                                <input type="checkbox" data-dd-id="acquisita">
                                <i class="far fa-square fa-fw fa-lg toggle-inactive" aria-hidden="true"></i>
                                <i class="far fa-check-square fa-fw fa-lg toggle-active" aria-hidden="true"></i>
                              </span>
                            </div>
                            <input data-dd-id="nome" type="text" class="form-control form-control-sm dd-autosort dd-sort-key">
                            <div class="input-group-append btn-group-toggle" data-toggle="buttons">
                              <span class="btn btn-addon btn-custom-checkbox" tabindex="0">
                                <input type="checkbox" data-dd-id="di_classe">
                                <i class="far fa-square fa-fw fa-lg toggle-inactive" aria-hidden="true"></i>
                                <i class="far fa-check-square fa-fw fa-lg toggle-active" aria-hidden="true"></i>
                                <i class="fas fa-copyright fa-lg toggle-active" aria-hidden="true"></i>
                                <i class="fas fa-copyright fa-lg toggle-inactive" aria-hidden="true"></i>
                              </span>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-2 col-6">
                          <label class="col-form-label col-form-label-sm d-md-none">Car chiave · Mod C</label>
                          <div class="input-group input-group-sm">
                            <div class="input-group-prepend">
                              <span tabindex="0" class="btn btn-sm btn-addon dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" role="button">
                                <input data-dd-id="chiave" type="text" readonly class="form-control-plaintext" value="For">
                              </span>
                              <div class="dropdown-menu">
                                <a class="dropdown-item" href="#">For</a>
                                <a class="dropdown-item" href="#">Des</a>
                                <a class="dropdown-item" href="#">Cos</a>
                                <a class="dropdown-item" href="#">Int</a>
                                <a class="dropdown-item" href="#">Sag</a>
                                <a class="dropdown-item" href="#">Car</a>
                              </div>
                            </div>
                            <input data-dd-id="mod_c" data-dd-formula="select_mod ./chiave /caratteristiche.for.mod_temp /caratteristiche.des.mod_temp /caratteristiche.cos.mod_temp /caratteristiche.int.mod_temp /caratteristiche.sag.mod_temp /caratteristiche.car.mod_temp" type="text" class="form-control form-control-sm dd-integer-field">
                          </div>
                        </div>
                        <div class="col-md-1 col-3">
                          <label class="col-form-label col-form-label-sm d-md-none">Gradi</label>
                          <input data-dd-id="gradi" type="text" class="form-control form-control-sm dd-natural-field">
                        </div>
                        <div class="col-md-1 col-3">
                          <label class="col-form-label col-form-label-sm d-md-none">Totale</label>
                          <input data-dd-id="totale" type="text" data-dd-formula="sum ./mod_c ./gradi ./razza ./archetipo[0] ./archetipo[1] ./b_sinergia ./talento ./oggetto ./vari" class="form-control form-control-sm dd-integer-field">
                        </div>
                      </div>
                      <div class="form-row pb-1 extra-mods d-none">
                        <div class="col-md col-3">
                          <label class="py-md-0 col-form-label col-form-label-sm">Razza</label>
                          <input data-dd-id="razza" type="text" class="form-control form-control-sm dd-integer-field">
                        </div>
                        <div class="col-md col-3">
                          <label class="py-md-0 col-form-label col-form-label-sm">Arch 1</label>
                          <input data-dd-id="archetipo[0]" type="text" class="form-control form-control-sm dd-integer-field">
                        </div>
                        <div class="col-md col-3">
                          <label class="py-md-0 col-form-label col-form-label-sm">Arch 2</label>
                          <input data-dd-id="archetipo[1]" type="text" class="form-control form-control-sm dd-integer-field">
                        </div>
                        <div class="col-md col-3">
                          <label class="py-md-0 col-form-label col-form-label-sm">Sin</label>
                          <input data-dd-id="sinergia" type="text" class="form-control form-control-sm">
                        </div>
                        <div class="col-md col-3">
                          <label class="py-md-0 col-form-label col-form-label-sm">B Sin</label>
                          <input data-dd-id="b_sinergia" type="text" class="form-control form-control-sm dd-integer-field">
                        </div>
                        <div class="col-md col-3">
                          <label class="py-md-0 col-form-label col-form-label-sm">Tal</label>
                          <input data-dd-id="talento" type="text" class="form-control form-control-sm dd-integer-field">
                        </div>
                        <div class="col-md col-3">
                          <label class="py-md-0 col-form-label col-form-label-sm">Ogg</label>
                          <input data-dd-id="oggetto" type="text" class="form-control form-control-sm dd-integer-field">
                        </div>
                        <div class="col-md col-3">
                          <label class="py-md-0 col-form-label col-form-label-sm">VV</label>
                          <input data-dd-id="vari" type="text" class="form-control form-control-sm dd-integer-field">
                        </div>
                      </div>
                    </div>
                    <div class="col-auto form-row align-items-center justify-content-center">
                      <button type="button" class="close float-none text-danger" data-dd-array="remove" aria-label="Remove">
                        <i class="fas fa-minus-square" aria-hidden="true"></i>
                      </button>
                    </div>
                  </div>
                  <p class="my-2 text-muted text-center form-text array-placeholder">
                    <small>Nessuna.</small>
                  </p>
                  <p class="form-text text-center mb-1">
                    <button type="button" class="close float-none text-success" data-dd-array="append" aria-label="Append">
                      <i class="fas fa-plus-square" aria-hidden="true"></i>
                    </button>
                  </p>
                </div>

              </div>
            </div>
          </div>
















          <div class="card my-1" role="tab">
            <span class="hidden-anchor" id="sec_incantesimi"></span>
            <div class="card-header" role="tab" data-toggle="collapse" data-target="#card_incantesimi" aria-expanded="true" aria-controls="card_incantesimi">
              <h5 class="mb-0">
                <button type="button" class="close float-left mr-3" aria-label="Toggle">
                  <i class="fas fa-chevron-circle-up" aria-hidden="true"></i>
                </button>
                Incantesimi
              </h5>
            </div>
            <div class="collapse show" id="card_incantesimi">
              <div class="card-body">
                <table class="table table-striped table-sm table-responsive" data-dd-id="stat_incantesimi">
                  <thead>
                    <tr>
                      <th></th>
                      <th class="text-center">Lv&nbsp;0</th>
                      <th class="text-center">Lv&nbsp;1</th>
                      <th class="text-center">Lv&nbsp;2</th>
                      <th class="text-center">Lv&nbsp;3</th>
                      <th class="text-center">Lv&nbsp;4</th>
                      <th class="text-center">Lv&nbsp;5</th>
                      <th class="text-center">Lv&nbsp;6</th>
                      <th class="text-center">Lv&nbsp;7</th>
                      <th class="text-center">Lv&nbsp;8</th>
                      <th class="text-center">Lv&nbsp;9</th>
                  </thead>
                  <tbody>
                    <tr>
                      <th scope="row" class="text-truncate">Conosciuti</th>
                      <td><input type="text" data-dd-id="conosciuti[0]" class="form-control form-control-sm text-right dd-natural-field"></td>
                      <td><input type="text" data-dd-id="conosciuti[1]" class="form-control form-control-sm text-right dd-natural-field"></td>
                      <td><input type="text" data-dd-id="conosciuti[2]" class="form-control form-control-sm text-right dd-natural-field"></td>
                      <td><input type="text" data-dd-id="conosciuti[3]" class="form-control form-control-sm text-right dd-natural-field"></td>
                      <td><input type="text" data-dd-id="conosciuti[4]" class="form-control form-control-sm text-right dd-natural-field"></td>
                      <td><input type="text" data-dd-id="conosciuti[5]" class="form-control form-control-sm text-right dd-natural-field"></td>
                      <td><input type="text" data-dd-id="conosciuti[6]" class="form-control form-control-sm text-right dd-natural-field"></td>
                      <td><input type="text" data-dd-id="conosciuti[7]" class="form-control form-control-sm text-right dd-natural-field"></td>
                      <td><input type="text" data-dd-id="conosciuti[8]" class="form-control form-control-sm text-right dd-natural-field"></td>
                      <td><input type="text" data-dd-id="conosciuti[9]" class="form-control form-control-sm text-right dd-natural-field"></td>
                    </tr>
                    <tr>
                      <th scope="row" class="text-truncate">CD Salv</th>
                      <td><input type="text" data-dd-id="cd_salvezza[0]" class="form-control form-control-sm text-right dd-natural-field"></td>
                      <td><input type="text" data-dd-id="cd_salvezza[1]" class="form-control form-control-sm text-right dd-natural-field"></td>
                      <td><input type="text" data-dd-id="cd_salvezza[2]" class="form-control form-control-sm text-right dd-natural-field"></td>
                      <td><input type="text" data-dd-id="cd_salvezza[3]" class="form-control form-control-sm text-right dd-natural-field"></td>
                      <td><input type="text" data-dd-id="cd_salvezza[4]" class="form-control form-control-sm text-right dd-natural-field"></td>
                      <td><input type="text" data-dd-id="cd_salvezza[5]" class="form-control form-control-sm text-right dd-natural-field"></td>
                      <td><input type="text" data-dd-id="cd_salvezza[6]" class="form-control form-control-sm text-right dd-natural-field"></td>
                      <td><input type="text" data-dd-id="cd_salvezza[7]" class="form-control form-control-sm text-right dd-natural-field"></td>
                      <td><input type="text" data-dd-id="cd_salvezza[8]" class="form-control form-control-sm text-right dd-natural-field"></td>
                      <td><input type="text" data-dd-id="cd_salvezza[9]" class="form-control form-control-sm text-right dd-natural-field"></td>
                    </tr>
                    <tr>
                      <th scope="row" class="text-truncate">Al giorno</th>
                      <td><input type="text" data-dd-id="al_giorno[0]" class="form-control form-control-sm text-right dd-natural-field"></td>
                      <td><input type="text" data-dd-id="al_giorno[1]" class="form-control form-control-sm text-right dd-natural-field"></td>
                      <td><input type="text" data-dd-id="al_giorno[2]" class="form-control form-control-sm text-right dd-natural-field"></td>
                      <td><input type="text" data-dd-id="al_giorno[3]" class="form-control form-control-sm text-right dd-natural-field"></td>
                      <td><input type="text" data-dd-id="al_giorno[4]" class="form-control form-control-sm text-right dd-natural-field"></td>
                      <td><input type="text" data-dd-id="al_giorno[5]" class="form-control form-control-sm text-right dd-natural-field"></td>
                      <td><input type="text" data-dd-id="al_giorno[6]" class="form-control form-control-sm text-right dd-natural-field"></td>
                      <td><input type="text" data-dd-id="al_giorno[7]" class="form-control form-control-sm text-right dd-natural-field"></td>
                      <td><input type="text" data-dd-id="al_giorno[8]" class="form-control form-control-sm text-right dd-natural-field"></td>
                      <td><input type="text" data-dd-id="al_giorno[9]" class="form-control form-control-sm text-right dd-natural-field"></td>
                    </tr>
                    <tr>
                      <th scope="row" class="text-truncate">Bonus</th>
                      <td><input type="text" data-dd-id="bonus[0]" class="form-control form-control-sm text-right dd-natural-field"></td>
                      <td><input type="text" data-dd-id="bonus[1]" class="form-control form-control-sm text-right dd-natural-field"></td>
                      <td><input type="text" data-dd-id="bonus[2]" class="form-control form-control-sm text-right dd-natural-field"></td>
                      <td><input type="text" data-dd-id="bonus[3]" class="form-control form-control-sm text-right dd-natural-field"></td>
                      <td><input type="text" data-dd-id="bonus[4]" class="form-control form-control-sm text-right dd-natural-field"></td>
                      <td><input type="text" data-dd-id="bonus[5]" class="form-control form-control-sm text-right dd-natural-field"></td>
                      <td><input type="text" data-dd-id="bonus[6]" class="form-control form-control-sm text-right dd-natural-field"></td>
                      <td><input type="text" data-dd-id="bonus[7]" class="form-control form-control-sm text-right dd-natural-field"></td>
                      <td><input type="text" data-dd-id="bonus[8]" class="form-control form-control-sm text-right dd-natural-field"></td>
                      <td><input type="text" data-dd-id="bonus[9]" class="form-control form-control-sm text-right dd-natural-field"></td>
                    </tr>
                  </tbody>
                </table>

                <span class="hidden-anchor" id="sec_elenco_incantesimi"></span>
                <h6 class="mt-3">Elenco incantesimi</h6>

                <div class="d-none d-md-block">
                  <div class="form-row pr-custom">
                    <div class="col">
                      <label class="col-form-label col-form-label-sm">Incantesimo</label>
                    </div>
                    <div class="col-2 text-truncate">
                      <label class="col-form-label col-form-label-sm">Dominio/Scuola</label>
                    </div>
                    <div class="col-1">
                      <label class="col-form-label col-form-label-sm">Liv</label>
                    </div>
                    <div class="col-1">
                      <label class="col-form-label col-form-label-sm">Rif</label>
                    </div>
                    <div class="col-1 text-truncate">
                      <label class="col-form-label col-form-label-sm">Preparati</label>
                    </div>
                    <div class="col-1">
                      <label class="col-form-label col-form-label-sm">Usati</label>
                    </div>
                  </div>
                </div>
                <div data-dd-array="container">
                  <div class="form-row pb-1 striped" data-dd-array="master" data-dd-id="incantesimi">
                    <div class="col form-row">
                      <div class="col-md col-8">
                        <label class="col-form-label col-form-label-sm d-md-none">Incantesimo</label>
                        <input type="text" class="form-control form-control-sm" data-dd-id="incantesimo">
                      </div>
                      <div class="col-md-2 col-4">
                        <label class="col-form-label col-form-label-sm d-md-none">Dominio/Scuola</label>
                        <input type="text" class="form-control form-control-sm" data-dd-id="dominio_scuola">
                      </div>
                      <div class="col-md-1 col-3">
                        <label class="col-form-label col-form-label-sm d-md-none">Liv</label>
                        <input type="text" class="form-control form-control-sm" data-dd-id="liv">
                      </div>
                      <div class="col-md-1 col-3">
                        <label class="col-form-label col-form-label-sm d-md-none">Rif</label>
                        <input type="text" class="form-control form-control-sm" data-dd-id="rif">
                      </div>
                      <div class="col-md-1 col-3">
                        <label class="col-form-label col-form-label-sm d-md-none">Preparati</label>
                        <input type="text" class="form-control form-control-sm" data-dd-id="preparati">
                      </div>
                      <div class="col-md-1 col-3">
                        <label class="col-form-label col-form-label-sm d-md-none">Usati</label>
                        <input type="text" class="form-control form-control-sm" data-dd-id="usati">
                      </div>
                    </div>
                    <div class="col-auto form-row align-items-center justify-content-center">
                      <button type="button" class="close float-none text-danger" data-dd-array="remove" aria-label="Remove">
                        <i class="fas fa-minus-square" aria-hidden="true"></i>
                      </button>
                    </div>
                  </div>
                  <p class="mb-2 text-muted text-center form-text array-placeholder">
                    <small>Nessuno.</small>
                  </p>
                  <p class="form-text text-center mb-1">
                    <button type="button" class="close float-none text-success" data-dd-array="append" aria-label="Append">
                      <i class="fas fa-plus-square" aria-hidden="true"></i>
                    </button>
                  </p>
                </div>
              </div>
            </div>
          </div>













          <div class="card my-1" role="tab">
            <span class="hidden-anchor" id="sec_spostamento"></span>
            <div class="card-header" role="tab" data-toggle="collapse" data-target="#card_spostamento" aria-expanded="true" aria-controls="card_spostamento">
              <h5 class="mb-0 text-truncate">
                <button type="button" class="close float-left mr-3" aria-label="Toggle">
                  <i class="fas fa-chevron-circle-up" aria-hidden="true"></i>
                </button>
                Equipaggiamento, peso, spostamento
              </h5>
            </div>
            <div class="collapse show" id="card_spostamento">
              <div class="card-body">
                <span class="hidden-anchor" id="sec_carico"></span>
                <h6>Carico</h6>
                <div class="form-row" data-dd-id="carico">
                  <div class="col-md-2 col-4">
                    <label class="col-form-label">Leggero</label>
                    <div class="input-group">
                      <input type="text" data-dd-id="leggero" class="text-right form-control">
                      <div class="input-group-append">
                        <span class="input-group-text">kg</span>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-2 col-4">
                    <label class="col-form-label">Medio</label>
                    <div class="input-group">
                      <input type="text" data-dd-id="medio" class="text-right form-control">
                      <div class="input-group-append">
                        <span class="input-group-text">kg</span>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-2 col-4">
                    <label class="col-form-label">Pesante</label>
                    <div class="input-group">
                      <input type="text" data-dd-id="pesante" class="text-right form-control">
                      <div class="input-group-append">
                        <span class="input-group-text">kg</span>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-2 col-4 text-truncate">
                    <label class="col-form-label">Soll. sopra la testa</label>
                    <div class="input-group">
                      <input type="text" data-dd-id="sopra_testa" class="text-right form-control" aria-describedby="aiuto_sopra_testa">
                      <div class="input-group-append">
                        <span class="input-group-text">kg</span>
                      </div>
                    </div>
                    <span id="aiuto_sopra_testa" class="help-block form-text text-right text-muted">(c. max)</span>
                  </div>
                  <div class="col-md-2 col-4 text-truncate">
                    <label class="col-form-label">Soll. dal terreno</label>
                    <div class="input-group">
                      <input type="text" data-dd-id="dal_terreno" class="text-right form-control" aria-describedby="aiuto_dal_terreno">
                      <div class="input-group-append">
                        <span class="input-group-text">kg</span>
                      </div>
                    </div>
                    <span id="aiuto_dal_terreno" class="help-block form-text text-right text-muted">(c. max ×2)</span>
                  </div>
                  <div class="col-md-2 col-4 text-truncate">
                    <label class="col-form-label">Sping. o trasc.</label>
                    <div class="input-group">
                      <input type="text" data-dd-id="sping_trasc" class="text-right form-control" aria-describedby="aiuto_spingere_trascinare">
                      <div class="input-group-append">
                        <span class="input-group-text">kg</span>
                      </div>
                    </div>
                    <span id="aiuto_spingere_trascinare" class="help-block form-text text-right text-muted">(c. max ×5)</span>
                  </div>
                </div>

                <span class="hidden-anchor" id="sec_velocita"></span>
                <h6 class="mt-3 mt-md-0">Velocità</h6>
                <div class="form-row" data-dd-id="velocita">
                  <div class="col-md-2 col-4">
                    <label class="col-form-label">Base</label>
                    <div class="input-group">
                      <input type="text" data-dd-id="base" class="text-right form-control">
                      <div class="input-group-append">
                        <span class="input-group-text">m</span>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-2 col-4">
                    <label class="col-form-label">Armatura</label>
                    <div class="input-group">
                      <input type="text" data-dd-id="armatura" class="text-right form-control">
                      <div class="input-group-append">
                        <span class="input-group-text">m</span>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-2 col-4">
                    <label class="col-form-label">Correre</label>
                    <div class="input-group">
                      <input type="text" data-dd-id="correre" class="text-right form-control">
                      <div class="input-group-append">
                        <span class="input-group-text">m</span>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-2 col-4">
                    <label class="col-form-label">Nuotare</label>
                    <div class="input-group">
                      <input type="text" data-dd-id="nuotare" class="text-right form-control">
                      <div class="input-group-append">
                        <span class="input-group-text">m</span>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-2 col-4">
                    <label class="col-form-label">Scalare</label>
                    <div class="input-group">
                      <input type="text" data-dd-id="scalare" class="text-right form-control">
                      <div class="input-group-append">
                        <span class="input-group-text">m</span>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-2 col-4">
                    <label class="col-form-label">Volare</label>
                    <div class="input-group">
                      <input type="text" data-dd-id="volare" class="text-right form-control">
                      <div class="input-group-append">
                        <span class="input-group-text">m</span>
                      </div>
                    </div>
                  </div>
                </div>


                <span class="hidden-anchor" id="sec_equip"></span>
                <h6 class="mt-3">Equipaggiamento trasportato</h6>



                <div class="form-row pr-custom">
                  <div class="col">
                    <label class="col-form-label col-form-label-sm">Oggetto</label>
                  </div>
                  <div class="col-2">
                    <label class="col-form-label col-form-label-sm">Rif</label>
                  </div>
                  <div class="col-3 col-md-2">
                    <label class="col-form-label col-form-label-sm">Peso</label>
                  </div>
                </div>
                <div data-dd-array="container">
                  <div class="form-row pb-1" data-dd-array="master" data-dd-id="equipaggiamento">
                    <div class="col">
                      <input type="text" class="form-control form-control-sm" data-dd-id="oggetto">
                    </div>
                    <div class="col-2">
                      <input type="text" class="form-control form-control-sm" data-dd-id="riferimento">
                    </div>
                    <div class="col-3 col-md-2">
                      <div class="input-group input-group-sm">
                        <input type="text" data-dd-id="peso" class="text-right form-control form-control-sm">
                        <div class="input-group-append">
                          <span class="input-group-text">kg</span>
                        </div>
                      </div>
                    </div>
                    <div class="col-auto form-row align-items-center justify-content-center">
                      <button type="button" class="close float-none text-danger" data-dd-array="remove" aria-label="Remove">
                        <i class="fas fa-minus-square" aria-hidden="true"></i>
                      </button>
                    </div>
                  </div>
                  <p class="mb-2 text-muted text-center form-text array-placeholder">
                    <small>Nessuno.</small>
                  </p>
                  <p class="form-text text-center mb-1">
                    <button type="button" class="close float-none text-success" data-dd-array="append" aria-label="Append">
                      <i class="fas fa-plus-square" aria-hidden="true"></i>
                    </button>
                  </p>
                </div>

                <div class="form-row">
                  <div class="col-md-4 col-12">
                    <div class="text-truncate"><label class="col-form-label">Totale peso trasportato</label></div>
                    <div class="input-group">
                      <input type="text" data-dd-id="peso_tot" class="text-right form-control">
                      <div class="input-group-append">
                        <span class="input-group-text">kg</span>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-4 col-6">
                    <div class="text-truncate"><label class="col-form-label">Penalità armatura</label></div>
                    <input type="text" data-dd-id="penalita_armatura" class="text-right form-control">
                  </div>
                  <div class="col-md-4 col-6">
                    <div class="text-truncate"><label class="col-form-label">Penalità nuotare</label></div>
                    <input type="text" data-dd-id="penalita_nuotare" class="text-right form-control">
                  </div>
                </div>

                <span class="hidden-anchor" id="sec_denaro"></span>
                <h6 class="mt-3">Denaro e preziosi</h6>


                <div class="form-row">
                  <div class="col-2">
                    <label class="col-form-label col-form-label-sm">Qtà</label>
                  </div>
                  <div class="col">
                    <label class="col-form-label col-form-label-sm">Oggetto</label>
                  </div>
                </div>
                <div data-dd-array="container">
                  <div class="form-row pb-1" data-dd-array="master" data-dd-id="denaro_preziosi">
                    <div class="col-2">
                      <input type="text" class="form-control form-control-sm" data-dd-id="quantita">
                    </div>
                    <div class="col">
                      <input type="text" class="form-control form-control-sm" data-dd-id="oggetto">
                    </div>
                    <div class="col-auto form-row align-items-center justify-content-center">
                      <button type="button" class="close float-none text-danger" data-dd-array="remove" aria-label="Remove">
                        <i class="fas fa-minus-square" aria-hidden="true"></i>
                      </button>
                    </div>
                  </div>
                  <p class="mb-2 text-muted text-center form-text array-placeholder">
                    <small>Nessuno.</small>
                  </p>
                  <p class="form-text text-center mb-1">
                    <button type="button" class="close float-none text-success" data-dd-array="append" aria-label="Append">
                      <i class="fas fa-plus-square" aria-hidden="true"></i>
                    </button>
                  </p>
                </div>

              </div>
            </div>
          </div>













          <footer class="small text-muted">
            <div class="text-center p-5">
              <img src="img/superscheda-bw.svg" style="width: 6rem;" alt="Superscheda logo">
            </div>
            Superscheda &copy; 2017-2018 Pietro Saccardi, rilasciato sotto <a href="LICENSE.txt" target="_blank">licenza GPL.</a>
            <br>
            Superscheda usa il local storage per archiviare informazioni; <a href="#" data-toggle="modal" data-target="#cookie_explain">vedi quali</a>.<br>
            Superscheda usa inoltre:
            <ul>
              <li>
                Font Awesome by Dave Gandy - <a href="http://fontawesome.com" target="_blank">http://fontawesome.com</a>.
              </li>
              <li>
                <a href="https://getbootstrap.com" target="_blank">Bootstrap</a>, &copy; 2011-2018 The Bootstrap Authors, &copy; 2011-2018 Twitter, Inc., rilasciato sotto <a href="https://github.com/twbs/bootstrap/blob/master/LICENSE" target="_blank">licenza MIT</a>.
              </li>
              <li>
                Superscheda usa <a href="https://jquery.com">jQuery</a>, &copy; JS Foundation e altri contributor, rilasciato  sotto <a href="https://github.com/jquery/jquery/blob/master/LICENSE.txt" target="_blank">licenza MIT</a>.
              </li>
            </ul>
          </footer>


        </div>
        </main>




      </div>
    </div>


<!--     <div class="modal-backdrop fade show" id="loading_modal">
      <div class="my-0 h-100 d-flex align-items-center justify-content-center">
        <div class="modal-dialog text-light" role="document">
          Caricamento...
        </div>
      </div>
    </div> -->
    <script type="module">
      import { DDGraph } from './js/ddgraph.js?v=%REV';
      $(function() {
        window.dd = new DDGraph();
        window.dd.buildFromDom();

        $('.btn-custom-checkbox input[type="checkbox"]').on('dd.changed', function(e) {
          const $this = $(this);
          const label = $this.closest('.btn-custom-checkbox');
          if ($this.is(':checked')) {
            label.addClass('active');
          } else {
            label.removeClass('active');
          }
        });
      });
    </script>
  </body>
</html>
